<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-b651517ce65839d647a86e2780455cfb.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.24">

  <title>Advanced R Book Club – Vectors</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #f07178; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #00e0e0; } /* Attribute */
    code span.bn { color: #d4d0ab; } /* BaseN */
    code span.bu { color: #abe338; } /* BuiltIn */
    code span.cf { color: #ffa07a; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffd700; } /* Constant */
    code span.co { color: #f8f8f2; font-style: italic; } /* Comment */
    code span.cv { color: #ffd700; } /* CommentVar */
    code span.do { color: #f8f8f2; } /* Documentation */
    code span.dt { color: #ffa07a; } /* DataType */
    code span.dv { color: #d4d0ab; } /* DecVal */
    code span.er { color: #f07178; text-decoration: underline; } /* Error */
    code span.ex { color: #00e0e0; font-weight: bold; } /* Extension */
    code span.fl { color: #d4d0ab; } /* Float */
    code span.fu { color: #ffa07a; } /* Function */
    code span.im { color: #abe338; } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; font-weight: bold; } /* Keyword */
    code span.op { color: #ffa07a; } /* Operator */
    code span.ot { color: #00e0e0; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.re { color: #00e0e0; background-color: #f8f8f2; } /* RegionMarker */
    code span.sc { color: #abe338; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #00e0e0; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #dcc6e0; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-5079db4132f0eaf0a29ac93fceccb8c9.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Vectors</h1>

<div class="quarto-title-authors">
</div>

</section>
<section id="learning-objectives" class="slide level2">
<h2>Learning objectives:</h2>
<ul>
<li>Learn about different types of vectors and their attributes</li>
<li>Navigate through vector types and their value types</li>
<li>Venture into factors and date-time objects</li>
<li>Discuss the differences between data frames and tibbles</li>
<li>Do not get absorbed by the <code>NA</code> and <code>NULL</code> black hole</li>
</ul>
</section>
<section id="session-info" class="slide level2">
<h2>Session Info</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">library</span>(<span class="st">"dplyr"</span>)</span>
<span id="cb1-2"><a></a><span class="fu">library</span>(<span class="st">"gt"</span>)</span>
<span id="cb1-3"><a></a><span class="fu">library</span>(<span class="st">"palmerpenguins"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<details>
<summary>
Session Info
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a>utils<span class="sc">::</span><span class="fu">sessionInfo</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; R version 4.5.1 (2025-06-13 ucrt)
#&gt; Platform: x86_64-w64-mingw32/x64
#&gt; Running under: Windows 11 x64 (build 26100)
#&gt; 
#&gt; Matrix products: default
#&gt;   LAPACK version 3.12.1
#&gt; 
#&gt; locale:
#&gt; [1] LC_COLLATE=English_United States.utf8 
#&gt; [2] LC_CTYPE=English_United States.utf8   
#&gt; [3] LC_MONETARY=English_United States.utf8
#&gt; [4] LC_NUMERIC=C                          
#&gt; [5] LC_TIME=English_United States.utf8    
#&gt; 
#&gt; time zone: America/Chicago
#&gt; tzcode source: internal
#&gt; 
#&gt; attached base packages:
#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     
#&gt; 
#&gt; other attached packages:
#&gt; [1] palmerpenguins_0.1.1 gt_1.0.0             dplyr_1.1.4         
#&gt; 
#&gt; loaded via a namespace (and not attached):
#&gt;  [1] digest_0.6.37     R6_2.6.1          fastmap_1.2.0     tidyselect_1.2.1 
#&gt;  [5] xfun_0.53         magrittr_2.0.3    glue_1.8.0        tibble_3.3.0     
#&gt;  [9] knitr_1.50        pkgconfig_2.0.3   htmltools_0.5.8.1 rmarkdown_2.29   
#&gt; [13] generics_0.1.4    lifecycle_1.0.4   xml2_1.3.8        cli_3.6.5        
#&gt; [17] vctrs_0.6.5       compiler_4.5.1    tools_4.5.1       pillar_1.11.0    
#&gt; [21] evaluate_1.0.4    yaml_2.3.10       rlang_1.1.6       jsonlite_2.0.0   
#&gt; [25] keyring_1.4.1</code></pre>
</div>
</div>
</details>
</section>
<section id="aperitif" class="slide level2">
<h2>Aperitif</h2>

<img data-src="images/vectors/lter_penguins.png" class="r-stretch quarto-figure-center"><p class="caption">Palmer Penguins</p></section>
<section id="counting-penguins" class="slide level2">
<h2>Counting Penguins</h2>
<p>Consider this code to count the number of Gentoo penguins in the <code>penguins</code> data set. We see that there are 124 Gentoo penguins.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">sum</span>(<span class="st">"Gentoo"</span> <span class="sc">==</span> penguins<span class="sc">$</span>species)</span>
<span id="cb4-2"><a></a><span class="co"># output: 124</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="in" class="slide level2">
<h2>In</h2>
<p>One subtle error can arise in trying out <code>%in%</code> here instead.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a>species_vector <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> <span class="fu">select</span>(species)</span>
<span id="cb5-2"><a></a><span class="fu">print</span>(<span class="st">"Gentoo"</span> <span class="sc">%in%</span> species_vector)</span>
<span id="cb5-3"><a></a><span class="co"># output: FALSE</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>

<img data-src="images/vectors/lter_penguins_no_gentoo.png" class="r-stretch quarto-figure-center"><p class="caption">Where did the penguins go?</p></section>
<section id="fix-base-r" class="slide level2">
<h2>Fix: base R</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a>species_unlist <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> <span class="fu">select</span>(species) <span class="sc">|&gt;</span> <span class="fu">unlist</span>()</span>
<span id="cb6-2"><a></a><span class="fu">print</span>(<span class="st">"Gentoo"</span> <span class="sc">%in%</span> species_unlist)</span>
<span id="cb6-3"><a></a><span class="co"># output: TRUE</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="fix-dplyr" class="slide level2">
<h2>Fix: dplyr</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a>species_pull <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> <span class="fu">select</span>(species) <span class="sc">|&gt;</span> <span class="fu">pull</span>()</span>
<span id="cb7-2"><a></a><span class="fu">print</span>(<span class="st">"Gentoo"</span> <span class="sc">%in%</span> species_pull)</span>
<span id="cb7-3"><a></a><span class="co"># output: TRUE</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="motivation" class="slide level2">
<h2>Motivation</h2>
<ul>
<li>What are the different types of vectors?</li>
<li>How does this affect accessing vectors?</li>
</ul>
<details>
<summary>
Side Quest: Looking up the <code>%in%</code> operator
</summary>
<p>If you want to look up the manual pages for the <code>%in%</code> operator with the <code>?</code>, use backticks:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a>?<span class="st">`</span><span class="at">%in%</span><span class="st">`</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>and we find that <code>%in%</code> is a wrapper for the <code>match()</code> function.</p>
</details>
</section>
<section id="types-of-vectors" class="slide level2">
<h2>Types of Vectors</h2>

<img data-src="images/vectors/summary-tree.png" class="r-stretch quarto-figure-center"><p class="caption">Image Credit: Advanced R</p><p>Two main types:</p>
<ul>
<li><strong>Atomic</strong>: Elements all the same type.</li>
<li><strong>List</strong>: Elements are different Types.</li>
</ul>
<p>Closely related but not technically a vector:</p>
<ul>
<li><strong>NULL</strong>: Null elements. Often length zero.</li>
</ul>
</section>
<section id="types-of-atomic-vectors-12" class="slide level2">
<h2>Types of Atomic Vectors (1/2)</h2>

<img data-src="images/vectors/summary-tree-atomic.png" style="width:50.0%" class="r-stretch quarto-figure-center"><p class="caption">Image Credit: Advanced R</p></section>
<section id="types-of-atomic-vectors-22" class="slide level2">
<h2>Types of Atomic Vectors (2/2)</h2>
<ul>
<li><strong>Logical</strong>: True/False</li>
<li><strong>Integer</strong>: Numeric (discrete, no decimals)</li>
<li><strong>Double</strong>: Numeric (continuous, decimals)</li>
<li><strong>Character</strong>: String</li>
</ul>
</section>
<section id="vectors-of-length-one" class="slide level2">
<h2>Vectors of Length One</h2>
<p><strong>Scalars</strong> are vectors that consist of a single value.</p>
</section>
<section id="logicals" class="slide level2">
<h2>Logicals</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a>lgl1 <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb9-2"><a></a>lgl2 <span class="ot">&lt;-</span> T <span class="co">#abbreviation for TRUE</span></span>
<span id="cb9-3"><a></a>lgl3 <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb9-4"><a></a>lgl4 <span class="ot">&lt;-</span> F <span class="co">#abbreviation for FALSE</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="doubles" class="slide level2">
<h2>Doubles</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a><span class="co"># integer, decimal, scientific, or hexidecimal format</span></span>
<span id="cb10-2"><a></a>dbl1 <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb10-3"><a></a>dbl2 <span class="ot">&lt;-</span> <span class="fl">1.234</span> <span class="co"># decimal</span></span>
<span id="cb10-4"><a></a>dbl3 <span class="ot">&lt;-</span> <span class="fl">1.234e0</span> <span class="co"># scientific format</span></span>
<span id="cb10-5"><a></a>dbl4 <span class="ot">&lt;-</span> <span class="dv">0xcafe</span> <span class="co"># hexidecimal format</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="integers" class="slide level2">
<h2>Integers</h2>
<p>Integers must be followed by L and cannot have fractional values</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a>int1 <span class="ot">&lt;-</span> <span class="dv">1</span>L</span>
<span id="cb11-2"><a></a>int2 <span class="ot">&lt;-</span> <span class="dv">1234</span>L</span>
<span id="cb11-3"><a></a>int3 <span class="ot">&lt;-</span> <span class="fl">1234e0</span>L</span>
<span id="cb11-4"><a></a>int4 <span class="ot">&lt;-</span> <span class="dv">0xcafe</span>L</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<details>
<summary>
Pop Quiz: Why “L” for integers?
</summary>
Wickham notes that the use of <code>L</code> dates back to the <strong>C</strong> programming language and its “long int” type for memory allocation.
</details>
</section>
<section id="strings" class="slide level2">
<h2>Strings</h2>
<p>Strings can use single or double quotes and special characters are escaped with<br>
</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a>str1 <span class="ot">&lt;-</span> <span class="st">"hello"</span> <span class="co"># double quotes</span></span>
<span id="cb12-2"><a></a>str2 <span class="ot">&lt;-</span> <span class="st">'hello'</span> <span class="co"># single quotes</span></span>
<span id="cb12-3"><a></a>str3 <span class="ot">&lt;-</span> <span class="st">"مرحبًا"</span> <span class="co"># Unicode</span></span>
<span id="cb12-4"><a></a>str4 <span class="ot">&lt;-</span> <span class="st">"\U0001f605"</span> <span class="co"># sweaty_smile 😅</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="longer-12" class="slide level2">
<h2>Longer 1/2</h2>
<p>There are several ways to make longer vectors:</p>
<p><strong>1. With single values</strong> inside c() for combine.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a>lgl_var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb13-2"><a></a>int_var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>L, <span class="dv">6</span>L, <span class="dv">10</span>L)</span>
<span id="cb13-3"><a></a>dbl_var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">2.5</span>, <span class="fl">4.5</span>)</span>
<span id="cb13-4"><a></a>chr_var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"these are"</span>, <span class="st">"some strings"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>

<img data-src="images/vectors/atomic.png" class="r-stretch quarto-figure-center"><p class="caption">Image Credit: Advanced R</p></section>
<section id="longer-22" class="slide level2">
<h2>Longer 2/2</h2>
<p><strong>2. With other vectors</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a><span class="fu">c</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>)) <span class="co"># output is not nested</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] 1 2 3 4</code></pre>
</div>
</div>
</section>
<section id="type-and-length" class="slide level2">
<h2>Type and Length</h2>
<p>We can determine the type of a vector with <code>typeof()</code> and its length with <code>length()</code></p>
<div class="cell">
<div class="cell-output-display">
<div id="scliwijqex" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#scliwijqex table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#scliwijqex thead, #scliwijqex tbody, #scliwijqex tfoot, #scliwijqex tr, #scliwijqex td, #scliwijqex th {
  border-style: none;
}

#scliwijqex p {
  margin: 0;
  padding: 0;
}

#scliwijqex .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#scliwijqex .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#scliwijqex .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#scliwijqex .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#scliwijqex .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#scliwijqex .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#scliwijqex .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#scliwijqex .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#scliwijqex .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#scliwijqex .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#scliwijqex .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#scliwijqex .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#scliwijqex .gt_spanner_row {
  border-bottom-style: hidden;
}

#scliwijqex .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#scliwijqex .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#scliwijqex .gt_from_md > :first-child {
  margin-top: 0;
}

#scliwijqex .gt_from_md > :last-child {
  margin-bottom: 0;
}

#scliwijqex .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#scliwijqex .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#scliwijqex .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#scliwijqex .gt_row_group_first td {
  border-top-width: 2px;
}

#scliwijqex .gt_row_group_first th {
  border-top-width: 2px;
}

#scliwijqex .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#scliwijqex .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#scliwijqex .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#scliwijqex .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#scliwijqex .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#scliwijqex .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#scliwijqex .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#scliwijqex .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#scliwijqex .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#scliwijqex .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#scliwijqex .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#scliwijqex .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#scliwijqex .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#scliwijqex .gt_left {
  text-align: left;
}

#scliwijqex .gt_center {
  text-align: center;
}

#scliwijqex .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#scliwijqex .gt_font_normal {
  font-weight: normal;
}

#scliwijqex .gt_font_bold {
  font-weight: bold;
}

#scliwijqex .gt_font_italic {
  font-style: italic;
}

#scliwijqex .gt_super {
  font-size: 65%;
}

#scliwijqex .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#scliwijqex .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#scliwijqex .gt_indent_1 {
  text-indent: 5px;
}

#scliwijqex .gt_indent_2 {
  text-indent: 10px;
}

#scliwijqex .gt_indent_3 {
  text-indent: 15px;
}

#scliwijqex .gt_indent_4 {
  text-indent: 20px;
}

#scliwijqex .gt_indent_5 {
  text-indent: 25px;
}

#scliwijqex .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#scliwijqex div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border">Types of Atomic Vectors<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></td>
</tr>
<tr class="gt_col_headings even">
<th id="var_names" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">name</th>
<th id="var_values" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">value</th>
<th id="var_type" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">typeof()</th>
<th id="var_length" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">length()</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="var_names">lgl_var</td>
<td class="gt_row gt_center" headers="var_values">TRUE, FALSE</td>
<td class="gt_row gt_center" headers="var_type" style="background-color: #F9E3D6">logical</td>
<td class="gt_row gt_center" headers="var_length" style="background-color: #E0FFFF">2</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="var_names">int_var</td>
<td class="gt_row gt_center" headers="var_values">1L, 6L, 10L</td>
<td class="gt_row gt_center" headers="var_type" style="background-color: #F9E3D6">integer</td>
<td class="gt_row gt_center" headers="var_length" style="background-color: #E0FFFF">3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="var_names">dbl_var</td>
<td class="gt_row gt_center" headers="var_values">1, 2.5, 4.5</td>
<td class="gt_row gt_center" headers="var_type" style="background-color: #F9E3D6">double</td>
<td class="gt_row gt_center" headers="var_length" style="background-color: #E0FFFF">3</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="var_names">chr_var</td>
<td class="gt_row gt_center" headers="var_values">'these are', 'some strings'</td>
<td class="gt_row gt_center" headers="var_type" style="background-color: #F9E3D6">character</td>
<td class="gt_row gt_center" headers="var_length" style="background-color: #E0FFFF">2</td>
</tr>
</tbody><tfoot class="gt_footnotes">
<tr class="odd">
<td colspan="4" class="gt_footnote"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> Source: https://adv-r.hadley.nz/index.html</td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
</section>
<section id="side-quest-penguins" class="slide level2">
<h2>Side Quest: Penguins</h2>
<details>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a><span class="fu">typeof</span>(penguins<span class="sc">$</span>species)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "integer"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a><span class="fu">class</span>(penguins<span class="sc">$</span>species)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "factor"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a><span class="fu">typeof</span>(species_unlist)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "integer"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a><span class="fu">class</span>(species_unlist)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "factor"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a><span class="fu">typeof</span>(species_pull)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "integer"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a><span class="fu">class</span>(species_pull)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "factor"</code></pre>
</div>
</div>
</details>
</section>
<section id="missing-values-contagion" class="slide level2">
<h2>Missing values: Contagion</h2>
<p>For most computations, an operation over values that includes a missing value yields a missing value (unless you’re careful)</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a></a><span class="co"># contagion</span></span>
<span id="cb28-2"><a></a><span class="dv">5</span><span class="sc">*</span><span class="cn">NA</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] NA</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a></a><span class="fu">sum</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">3</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] NA</code></pre>
</div>
</div>
</section>
<section id="missing-values-contagion-exceptions" class="slide level2">
<h2>Missing values: Contagion Exceptions</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a></a><span class="cn">NA</span> <span class="sc">^</span> <span class="dv">0</span></span>
<span id="cb32-2"><a></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb32-3"><a></a><span class="cn">NA</span> <span class="sc">|</span> <span class="cn">TRUE</span></span>
<span id="cb32-4"><a></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb32-5"><a></a><span class="cn">NA</span> <span class="sc">&amp;</span> <span class="cn">FALSE</span></span>
<span id="cb32-6"><a></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<h4 id="innoculation">Innoculation</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a></a><span class="fu">sum</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">3</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb33-2"><a></a><span class="co"># output: 6</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>To search for missing values use <code>is.na()</code></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">5</span>, <span class="cn">NA</span>, <span class="dv">10</span>)</span>
<span id="cb34-2"><a></a>x <span class="sc">==</span> <span class="cn">NA</span></span>
<span id="cb34-3"><a></a><span class="co"># output: NA NA NA NA [BATMAN!]</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a></a><span class="fu">is.na</span>(x)</span>
<span id="cb35-2"><a></a><span class="co"># output: TRUE FALSE TRUE FALSE</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="missing-values-na-types" class="slide level2">
<h2>Missing Values: NA Types</h2>
<details>
<p>Each type has its own NA type</p>
<ul>
<li>Logical: <code>NA</code></li>
<li>Integer: <code>NA_integer</code></li>
<li>Double: <code>NA_double</code></li>
<li>Character: <code>NA_character</code></li>
</ul>
<p>This may not matter in many contexts.</p>
Can matter for operations where types matter like <code>dplyr::if_else()</code>.
</details>
</section>
<section id="testing-12" class="slide level2">
<h2>Testing (1/2)</h2>
<p><strong>What type of vector <code>is.*</code>() it?</strong></p>
<p>Test data type:</p>
<ul>
<li>Logical: <code>is.logical()</code></li>
<li>Integer: <code>is.integer()</code></li>
<li>Double: <code>is.double()</code></li>
<li>Character: <code>is.character()</code></li>
</ul>
</section>
<section id="testing-22" class="slide level2">
<h2>Testing (2/2)</h2>
<p><strong>What type of object is it?</strong></p>
<p>Don’t test objects with these tools:</p>
<ul>
<li><code>is.vector()</code></li>
<li><code>is.atomic()</code></li>
<li><code>is.numeric()</code></li>
</ul>
<p>They don’t test if you have a vector, atomic vector, or numeric vector; you’ll need to carefully read the documentation to figure out what they actually do (preview: <em>attributes</em>)</p>
</section>
<section id="side-quest-rlang-is_" class="slide level2">
<h2>Side Quest: rlang <code>is_*()</code></h2>
<details>
<summary>
Maybe use <code>{rlang}</code>?
</summary>
<ul>
<li><code>rlang::is_vector</code></li>
<li><code>rlang::is_atomic</code></li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a></a><span class="co"># vector</span></span>
<span id="cb36-2"><a></a>rlang<span class="sc">::</span><span class="fu">is_vector</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a></a>rlang<span class="sc">::</span><span class="fu">is_vector</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a></a><span class="co"># atomic</span></span>
<span id="cb40-2"><a></a>rlang<span class="sc">::</span><span class="fu">is_atomic</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a></a>rlang<span class="sc">::</span><span class="fu">is_atomic</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="st">"a"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] FALSE</code></pre>
</div>
</div>
See more <a href="https://rlang.r-lib.org/reference/type-predicates.html">here</a>
</details>
</section>
<section id="coercion" class="slide level2 scrollable">
<h2>Coercion</h2>
<ul>
<li><p>R follows rules for coercion: character → double → integer → logical</p></li>
<li><p>R can coerce either automatically or explicitly</p></li>
</ul>
<h4 id="automatic"><strong>Automatic</strong></h4>
<p>Two contexts for automatic coercion:</p>
<ol type="1">
<li>Combination</li>
<li>Mathematical</li>
</ol>
</section>
<section id="coercion-by-combination" class="slide level2">
<h2>Coercion by Combination:</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a></a><span class="fu">str</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="st">"TRUE"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;  chr [1:2] "TRUE" "TRUE"</code></pre>
</div>
</div>
</section>
<section id="coercion-by-mathematical-operations" class="slide level2">
<h2>Coercion by Mathematical operations:</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a></a><span class="co"># imagine a logical vector about whether an attribute is present</span></span>
<span id="cb46-2"><a></a>has_attribute <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb46-3"><a></a></span>
<span id="cb46-4"><a></a><span class="co"># number with attribute</span></span>
<span id="cb46-5"><a></a><span class="fu">sum</span>(has_attribute)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] 3</code></pre>
</div>
</div>
</section>
<section id="explicit" class="slide level2">
<h2><strong>Explicit</strong></h2>
<!--

Use `as.*()`

-   Logical: `as.logical()`
-   Integer: `as.integer()`
-   Double: `as.double()`
-   Character: `as.character()`

-->
<div class="cell">
<div class="cell-output-display">
<div id="prgzooqwyi" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#prgzooqwyi table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#prgzooqwyi thead, #prgzooqwyi tbody, #prgzooqwyi tfoot, #prgzooqwyi tr, #prgzooqwyi td, #prgzooqwyi th {
  border-style: none;
}

#prgzooqwyi p {
  margin: 0;
  padding: 0;
}

#prgzooqwyi .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#prgzooqwyi .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#prgzooqwyi .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#prgzooqwyi .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#prgzooqwyi .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#prgzooqwyi .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#prgzooqwyi .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#prgzooqwyi .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#prgzooqwyi .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#prgzooqwyi .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#prgzooqwyi .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#prgzooqwyi .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#prgzooqwyi .gt_spanner_row {
  border-bottom-style: hidden;
}

#prgzooqwyi .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#prgzooqwyi .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#prgzooqwyi .gt_from_md > :first-child {
  margin-top: 0;
}

#prgzooqwyi .gt_from_md > :last-child {
  margin-bottom: 0;
}

#prgzooqwyi .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#prgzooqwyi .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#prgzooqwyi .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#prgzooqwyi .gt_row_group_first td {
  border-top-width: 2px;
}

#prgzooqwyi .gt_row_group_first th {
  border-top-width: 2px;
}

#prgzooqwyi .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#prgzooqwyi .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#prgzooqwyi .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#prgzooqwyi .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#prgzooqwyi .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#prgzooqwyi .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#prgzooqwyi .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#prgzooqwyi .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#prgzooqwyi .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#prgzooqwyi .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#prgzooqwyi .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#prgzooqwyi .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#prgzooqwyi .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#prgzooqwyi .gt_left {
  text-align: left;
}

#prgzooqwyi .gt_center {
  text-align: center;
}

#prgzooqwyi .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#prgzooqwyi .gt_font_normal {
  font-weight: normal;
}

#prgzooqwyi .gt_font_bold {
  font-weight: bold;
}

#prgzooqwyi .gt_font_italic {
  font-style: italic;
}

#prgzooqwyi .gt_super {
  font-size: 65%;
}

#prgzooqwyi .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#prgzooqwyi .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#prgzooqwyi .gt_indent_1 {
  text-indent: 5px;
}

#prgzooqwyi .gt_indent_2 {
  text-indent: 10px;
}

#prgzooqwyi .gt_indent_3 {
  text-indent: 15px;
}

#prgzooqwyi .gt_indent_4 {
  text-indent: 20px;
}

#prgzooqwyi .gt_indent_5 {
  text-indent: 25px;
}

#prgzooqwyi .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#prgzooqwyi div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<td colspan="6" class="gt_heading gt_title gt_font_normal gt_bottom_border">Coercion of Atomic Vectors<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></td>
</tr>
<tr class="gt_col_headings even">
<th id="var_names" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">name</th>
<th id="var_values" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">value</th>
<th id="as_logical" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">as.logical()</th>
<th id="as_integer" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">as.integer()</th>
<th id="as_double" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">as.double()</th>
<th id="as_character" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">as.character()</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="var_names">lgl_var</td>
<td class="gt_row gt_center" headers="var_values">TRUE, FALSE</td>
<td class="gt_row gt_center" headers="as_logical" style="background-color: #F9E3D6">TRUE FALSE</td>
<td class="gt_row gt_center" headers="as_integer" style="background-color: #E0FFFF">1 0</td>
<td class="gt_row gt_center" headers="as_double" style="background-color: #F9E3D6">1 0</td>
<td class="gt_row gt_center" headers="as_character" style="background-color: #E0FFFF">'TRUE' 'FALSE'</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="var_names">int_var</td>
<td class="gt_row gt_center" headers="var_values">1L, 6L, 10L</td>
<td class="gt_row gt_center" headers="as_logical" style="background-color: #F9E3D6">TRUE TRUE TRUE</td>
<td class="gt_row gt_center" headers="as_integer" style="background-color: #E0FFFF">1 6 10</td>
<td class="gt_row gt_center" headers="as_double" style="background-color: #F9E3D6">1 6 10</td>
<td class="gt_row gt_center" headers="as_character" style="background-color: #E0FFFF">'1' '6' '10'</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="var_names">dbl_var</td>
<td class="gt_row gt_center" headers="var_values">1, 2.5, 4.5</td>
<td class="gt_row gt_center" headers="as_logical" style="background-color: #F9E3D6">TRUE TRUE TRUE</td>
<td class="gt_row gt_center" headers="as_integer" style="background-color: #E0FFFF">1 2 4</td>
<td class="gt_row gt_center" headers="as_double" style="background-color: #F9E3D6">1.0 2.5 4.5</td>
<td class="gt_row gt_center" headers="as_character" style="background-color: #E0FFFF">'1' '2.5' '4.5'</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="var_names">chr_var</td>
<td class="gt_row gt_center" headers="var_values">'these are', 'some strings'</td>
<td class="gt_row gt_center" headers="as_logical" style="background-color: #F9E3D6">NA NA</td>
<td class="gt_row gt_center" headers="as_integer" style="background-color: #E0FFFF">NA_integer</td>
<td class="gt_row gt_center" headers="as_double" style="background-color: #F9E3D6">NA_double</td>
<td class="gt_row gt_center" headers="as_character" style="background-color: #E0FFFF">'these are', 'some strings'</td>
</tr>
</tbody><tfoot class="gt_footnotes">
<tr class="odd">
<td colspan="6" class="gt_footnote"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> Source: https://adv-r.hadley.nz/index.html</td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
<p>But note that coercion may fail in one of two ways, or both:</p>
<ul>
<li>With warning/error</li>
<li>NAs</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a></a><span class="fu">as.integer</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"three"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1]  1  2 NA</code></pre>
</div>
</div>
</section>
<section id="exercises-15" class="slide level2 scrollable">
<h2>Exercises 1/5</h2>
<ol type="1">
<li>How do you create raw and complex scalars?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a></a><span class="fu">as.raw</span>(<span class="dv">42</span>)</span>
<span id="cb50-2"><a></a><span class="co">#&gt; [1] 2a</span></span>
<span id="cb50-3"><a></a><span class="fu">charToRaw</span>(<span class="st">"A"</span>)</span>
<span id="cb50-4"><a></a><span class="co">#&gt; [1] 41</span></span>
<span id="cb50-5"><a></a><span class="fu">complex</span>(<span class="at">length.out =</span> <span class="dv">1</span>, <span class="at">real =</span> <span class="dv">1</span>, <span class="at">imaginary =</span> <span class="dv">1</span>)</span>
<span id="cb50-6"><a></a><span class="co">#&gt; [1] 1+1i</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="exercises-25" class="slide level2 scrollable">
<h2>Exercises 2/5</h2>
<ol start="2" type="1">
<li>Test your knowledge of the vector coercion rules by predicting the output of the following uses of c():</li>
</ol>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">FALSE</span>)</span>
<span id="cb51-2"><a></a><span class="fu">c</span>(<span class="st">"a"</span>, <span class="dv">1</span>)</span>
<span id="cb51-3"><a></a><span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="dv">1</span>L)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<details>
<summary>
Answer(s)
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">FALSE</span>)      <span class="co"># will be coerced to double    -&gt; 1 0</span></span>
<span id="cb52-2"><a></a><span class="fu">c</span>(<span class="st">"a"</span>, <span class="dv">1</span>)        <span class="co"># will be coerced to character -&gt; "a" "1"</span></span>
<span id="cb52-3"><a></a><span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="dv">1</span>L)      <span class="co"># will be coerced to integer   -&gt; 1 1</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="exercises-35" class="slide level2 scrollable">
<h2>Exercises 3/5</h2>
<ol start="3" type="1">
<li>Why is <code>1 == "1"</code> true? Why is <code>-1 &lt; FALSE</code> true? Why is <code>"one" &lt; 2</code> false?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
<p>These comparisons are carried out by operator-functions (==, &lt;), which coerce their arguments to a common type. In the examples above, these types will be character, double and character: 1 will be coerced to “1”, FALSE is represented as 0 and 2 turns into “2” (and numbers precede letters in lexicographic order (may depend on locale)).</p>
</details>
</section>
<section id="exercises-45" class="slide level2 scrollable">
<h2>Exercises 4/5</h2>
<ol start="4" type="1">
<li>Why is the default missing value, NA, a logical vector? What’s special about logical vectors?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
The presence of missing values shouldn’t affect the type of an object. Recall that there is a type-hierarchy for coercion from character → double → integer → logical. When combining <code>NA</code>s with other atomic types, the <code>NA</code>s will be coerced to integer (<code>NA_integer_</code>), double (<code>NA_real_</code>) or character (<code>NA_character_</code>) and not the other way round. If <code>NA</code> were a character and added to a set of other values all of these would be coerced to character as well.
</details>
</section>
<section id="exercises-55" class="slide level2 scrollable">
<h2>Exercises 5/5</h2>
<ol start="5" type="1">
<li>Precisely what do <code>is.atomic()</code>, <code>is.numeric()</code>, and <code>is.vector()</code> test for?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
<ul>
<li><code>is.atomic()</code> tests if an object is an atomic vector or is <code>NULL</code> (!). Atomic vectors are objects of type logical, integer, double, complex, character or raw.</li>
<li><code>is.numeric()</code> tests if an object has type integer or double and is not of class <code>factor</code>, <code>Date</code>, <code>POSIXt</code> or <code>difftime</code>.</li>
<li><code>is.vector()</code> tests if an object is a vector or an expression and has no attributes, apart from names. Vectors are atomic vectors or lists.</li>
</ul>
</details>
</section>
<section id="attributes" class="slide level2">
<h2>Attributes</h2>
<p>Attributes are name-value pairs that attach metadata to an object (vector).</p>
<ul>
<li><strong>Name-value pairs</strong>: attributes have a name and a value</li>
<li><strong>Metadata</strong>: not data itself, but data about the data</li>
</ul>
</section>
<section id="getting-and-setting" class="slide level2 scrollable">
<h2>Getting and Setting</h2>
<p>Three functions:</p>
<ol type="1">
<li>retrieve and modify single attributes with <code>attr()</code></li>
<li>retrieve en masse with <code>attributes()</code></li>
<li>set en masse with <code>structure()</code></li>
</ol>
</section>
<section id="single-attribute" class="slide level2">
<h2>Single attribute</h2>
<p>Use <code>attr()</code></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a></a><span class="co"># some object</span></span>
<span id="cb53-2"><a></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb53-3"><a></a></span>
<span id="cb53-4"><a></a><span class="co"># set attribute</span></span>
<span id="cb53-5"><a></a><span class="fu">attr</span>(<span class="at">x =</span> a, <span class="at">which =</span> <span class="st">"attribute_name"</span>) <span class="ot">&lt;-</span> <span class="st">"some attribute"</span></span>
<span id="cb53-6"><a></a></span>
<span id="cb53-7"><a></a><span class="co"># get attribute</span></span>
<span id="cb53-8"><a></a><span class="fu">attr</span>(a, <span class="st">"attribute_name"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "some attribute"</code></pre>
</div>
</div>
</section>
<section id="multiple-attributes" class="slide level2">
<h2>Multiple attributes</h2>
<p><code>structure()</code>: set multiple attributes, <code>attributes()</code>: get multiple attributes</p>
<div class="columns">
<div class="column">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a></a>a <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb55-2"><a></a><span class="fu">attr</span>(a, <span class="st">"x"</span>) <span class="ot">&lt;-</span> <span class="st">"abcdef"</span></span>
<span id="cb55-3"><a></a><span class="fu">attr</span>(a, <span class="st">"x"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "abcdef"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a></a><span class="fu">attr</span>(a, <span class="st">"y"</span>) <span class="ot">&lt;-</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb57-2"><a></a><span class="fu">str</span>(<span class="fu">attributes</span>(a))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; List of 2
#&gt;  $ x: chr "abcdef"
#&gt;  $ y: int [1:3] 4 5 6</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a></a>b <span class="ot">&lt;-</span> <span class="fu">structure</span>(</span>
<span id="cb59-2"><a></a>  <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, </span>
<span id="cb59-3"><a></a>  <span class="at">x =</span> <span class="st">"abcdef"</span>,</span>
<span id="cb59-4"><a></a>  <span class="at">y =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb59-5"><a></a>)</span>
<span id="cb59-6"><a></a><span class="fu">identical</span>(a, b)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] TRUE</code></pre>
</div>
</div>
</div><div class="column">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/vectors/attr.png"></p>
<figcaption>Image Credit: Advanced R</figcaption>
</figure>
</div>
</div></div>
</section>
<section id="why" class="slide level2 scrollable">
<h2>Why</h2>
<p>Three particularly important attributes:</p>
<ol type="1">
<li><strong>names</strong> - a character vector giving each element a name</li>
<li><strong>dimension</strong> - (or dim) turns vectors into matrices and arrays</li>
<li><strong>class</strong> - powers the S3 object system (we’ll learn more about this in chapter 13)</li>
</ol>
<p>Most attributes are lost by most operations. Only two attributes are routinely preserved: names and dimension.</p>
</section>
<section id="names" class="slide level2">
<h2>Names</h2>
<p><del>Three</del> Four ways to name:</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a></a><span class="co"># (1) On creation: </span></span>
<span id="cb61-2"><a></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">A =</span> <span class="dv">1</span>, <span class="at">B =</span> <span class="dv">2</span>, <span class="at">C =</span> <span class="dv">3</span>)</span>
<span id="cb61-3"><a></a>x</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; A B C 
#&gt; 1 2 3</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a></a><span class="co"># (2) Assign to names():</span></span>
<span id="cb63-2"><a></a>y <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb63-3"><a></a><span class="fu">names</span>(y) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>)</span>
<span id="cb63-4"><a></a>y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; a b c 
#&gt; 1 2 3</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a></a><span class="co"># (3) Inline:</span></span>
<span id="cb65-2"><a></a>z <span class="ot">&lt;-</span> <span class="fu">setNames</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>))</span>
<span id="cb65-3"><a></a>z</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; a b c 
#&gt; 1 2 3</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/vectors/attr-names-1.png"></p>
<figcaption>proper diagram</figcaption>
</figure>
</div>
</div></div>
</section>
<section id="rlang-names" class="slide level2">
<h2>rlang Names</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a></a><span class="co"># (4) Inline with {rlang}:</span></span>
<span id="cb67-2"><a></a>a <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb67-3"><a></a>rlang<span class="sc">::</span><span class="fu">set_names</span>(</span>
<span id="cb67-4"><a></a>  a,</span>
<span id="cb67-5"><a></a>  <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>)</span>
<span id="cb67-6"><a></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; a b c 
#&gt; 1 2 3</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/vectors/attr-names-2.png"></p>
<figcaption>simplified diagram</figcaption>
</figure>
</div>
</div></div>
</section>
<section id="removing-names" class="slide level2">
<h2>Removing names</h2>
<ul>
<li><code>x &lt;- unname(x)</code> or <code>names(x) &lt;- NULL</code></li>
<li>Thematically but not directly related: labelled class vectors with <code>haven::labelled()</code></li>
</ul>
</section>
<section id="dimensions-matrix-and-array" class="slide level2">
<h2>Dimensions: <code>matrix()</code> and <code>array()</code></h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a></a><span class="co"># Two scalar arguments specify row and column sizes</span></span>
<span id="cb69-2"><a></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb69-3"><a></a>x</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    3    5
#&gt; [2,]    2    4    6</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a></a><span class="co"># One vector argument to describe all dimensions</span></span>
<span id="cb71-2"><a></a>y <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>)) <span class="co"># rows, columns, no of arrays</span></span>
<span id="cb71-3"><a></a>y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    3    5
#&gt; [2,]    2    4    6
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    7    9   11
#&gt; [2,]    8   10   12</code></pre>
</div>
</div>
</section>
<section id="dimensions-assign-to-dim" class="slide level2">
<h2>Dimensions: assign to <code>dim()</code></h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a></a><span class="co"># You can also modify an object in place by setting dim()</span></span>
<span id="cb73-2"><a></a>z <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb73-3"><a></a><span class="fu">dim</span>(z) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>) <span class="co"># rows, columns</span></span>
<span id="cb73-4"><a></a>z</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    3    5
#&gt; [2,]    2    4    6</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a></a>a <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span></span>
<span id="cb75-2"><a></a><span class="fu">dim</span>(a) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>) <span class="co"># rows, columns, no of arrays</span></span>
<span id="cb75-3"><a></a>a</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    3    5
#&gt; [2,]    2    4    6
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    7    9   11
#&gt; [2,]    8   10   12</code></pre>
</div>
</div>
</section>
<section id="functions-for-working-with-vectors-matrices-and-arrays-12" class="slide level2">
<h2>Functions for working with vectors, matrices and arrays (1/2):</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">Vector</th>
<th style="text-align: left;">Matrix</th>
<th style="text-align: left;">Array</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>names()</code></td>
<td style="text-align: left;"><code>rownames()</code>, <code>colnames()</code></td>
<td style="text-align: left;"><code>dimnames()</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>length()</code></td>
<td style="text-align: left;"><code>nrow()</code>, <code>ncol()</code></td>
<td style="text-align: left;"><code>dim()</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>c()</code></td>
<td style="text-align: left;"><code>rbind()</code>, <code>cbind()</code></td>
<td style="text-align: left;"><code>abind::abind()</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">—</td>
<td style="text-align: left;"><code>t()</code></td>
<td style="text-align: left;"><code>aperm()</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>is.null(dim(x))</code></td>
<td style="text-align: left;"><code>is.matrix()</code></td>
<td style="text-align: left;"><code>is.array()</code></td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Caution</strong>: Vector without <code>dim</code> set has <code>NULL</code> dimensions, not <code>1</code>.</li>
<li>One dimension?</li>
</ul>
</section>
<section id="functions-for-working-with-vectors-matrices-and-arrays-22" class="slide level2">
<h2>Functions for working with vectors, matrices and arrays (2/2):</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a></a><span class="fu">str</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)                   <span class="co"># 1d vector</span></span>
<span id="cb77-2"><a></a><span class="co">#&gt;  int [1:3] 1 2 3</span></span>
<span id="cb77-3"><a></a><span class="fu">str</span>(<span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">1</span>)) <span class="co"># column vector</span></span>
<span id="cb77-4"><a></a><span class="co">#&gt;  int [1:3, 1] 1 2 3</span></span>
<span id="cb77-5"><a></a><span class="fu">str</span>(<span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">nrow =</span> <span class="dv">1</span>)) <span class="co"># row vector</span></span>
<span id="cb77-6"><a></a><span class="co">#&gt;  int [1, 1:3] 1 2 3</span></span>
<span id="cb77-7"><a></a><span class="fu">str</span>(<span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">3</span>))         <span class="co"># "array" vector</span></span>
<span id="cb77-8"><a></a><span class="co">#&gt;  int [1:3(1d)] 1 2 3</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="exercises-14" class="slide level2 scrollable">
<h2>Exercises 1/4</h2>
<ol type="1">
<li>How is <code>setNames()</code> implemented? Read the source code.</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a></a>setNames <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">object =</span> nm, nm) {</span>
<span id="cb78-2"><a></a>  <span class="fu">names</span>(object) <span class="ot">&lt;-</span> nm</span>
<span id="cb78-3"><a></a>  object</span>
<span id="cb78-4"><a></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<ul>
<li>Data arg 1st = works well with pipe.</li>
<li>1st arg is optional</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a></a><span class="fu">setNames</span>( , <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>))</span>
<span id="cb79-2"><a></a><span class="co">#&gt;   a   b   c </span></span>
<span id="cb79-3"><a></a><span class="co">#&gt; "a" "b" "c"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="exercises-14-cont" class="slide level2 scrollable">
<h2>Exercises 1/4 (cont)</h2>
<ol type="1">
<li>How is <code>unname()</code> implemented? Read the source code.</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a></a>unname <span class="ot">&lt;-</span> <span class="cf">function</span>(obj, <span class="at">force =</span> <span class="cn">FALSE</span>) {</span>
<span id="cb80-2"><a></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(<span class="fu">names</span>(obj))) </span>
<span id="cb80-3"><a></a>    <span class="fu">names</span>(obj) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb80-4"><a></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(<span class="fu">dimnames</span>(obj)) <span class="sc">&amp;&amp;</span> (force <span class="sc">||</span> <span class="sc">!</span><span class="fu">is.data.frame</span>(obj))) </span>
<span id="cb80-5"><a></a>    <span class="fu">dimnames</span>(obj) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb80-6"><a></a>  obj</span>
<span id="cb80-7"><a></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<code>unname()</code> sets existing <code>names</code> or <code>dimnames</code> to <code>NULL</code>.
</details>
</section>
<section id="exercises-24" class="slide level2 scrollable">
<h2>Exercises 2/4</h2>
<ol start="2" type="1">
<li>What does <code>dim()</code> return when applied to a 1-dimensional vector? When might you use <code>NROW()</code> or <code>NCOL()</code>?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
<blockquote>
<p><code>dim()</code> returns <code>NULL</code> when applied to a 1d vector.</p>
</blockquote>
<p><code>NROW()</code> and <code>NCOL()</code> treats <code>NULL</code> and vectors like they have dimensions:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb81-2"><a></a><span class="fu">nrow</span>(x)</span>
<span id="cb81-3"><a></a><span class="co">#&gt; NULL</span></span>
<span id="cb81-4"><a></a><span class="fu">ncol</span>(x)</span>
<span id="cb81-5"><a></a><span class="co">#&gt; NULL</span></span>
<span id="cb81-6"><a></a><span class="fu">NROW</span>(x)</span>
<span id="cb81-7"><a></a><span class="co">#&gt; [1] 10</span></span>
<span id="cb81-8"><a></a><span class="fu">NCOL</span>(x)</span>
<span id="cb81-9"><a></a><span class="co">#&gt; [1] 1</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="exercises-34" class="slide level2 scrollable">
<h2>Exercises 3/4</h2>
<ol start="3" type="1">
<li>How would you describe the following three objects? What makes them different from <code>1:5</code>?</li>
</ol>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a></a>x1 <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>))</span>
<span id="cb82-2"><a></a>x2 <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">1</span>))</span>
<span id="cb82-3"><a></a>x3 <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">1</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<details>
<summary>
Answer(s)
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a></a>x1 <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>))  <span class="co"># 1 row,  1 column,  5 in third dim.</span></span>
<span id="cb83-2"><a></a>x2 <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">1</span>))  <span class="co"># 1 row,  5 columns, 1 in third dim.</span></span>
<span id="cb83-3"><a></a>x3 <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">1</span>))  <span class="co"># 5 rows, 1 column,  1 in third dim.</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="exercises-44" class="slide level2 scrollable">
<h2>Exercises 4/4</h2>
<ol start="4" type="1">
<li>An early draft used this code to illustrate <code>structure()</code>:</li>
</ol>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a></a><span class="fu">structure</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">comment =</span> <span class="st">"my attribute"</span>)</span>
<span id="cb84-2"><a></a><span class="co">#&gt; [1] 1 2 3 4 5</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Why don’t you see the comment attribute on print? Is the attribute missing, or is there something else special about it?</p>
<details>
<summary>
Answer(s)
</summary>
<p>The documentation states (see <code>?comment</code>):</p>
<blockquote>
<p>Contrary to other attributes, the comment is not printed (by print or print.default).</p>
</blockquote>
</details></section>
<section id="exercises-44-cont" class="slide level2">
<h2>Exercises 4/4 (cont)</h2>
<details>
<summary>
Answer(s)
</summary>
<p>Also, from <code>?attributes:</code></p>
<blockquote>
<p>Note that some attributes (namely class, comment, dim, dimnames, names, row.names and tsp) are treated specially and have restrictions on the values which can be set.</p>
</blockquote>
<p>Retrieve comment attributes with <code>attr()</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a></a>foo <span class="ot">&lt;-</span> <span class="fu">structure</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">comment =</span> <span class="st">"my attribute"</span>)</span>
<span id="cb85-2"><a></a></span>
<span id="cb85-3"><a></a><span class="fu">attributes</span>(foo)</span>
<span id="cb85-4"><a></a><span class="co">#&gt; $comment</span></span>
<span id="cb85-5"><a></a><span class="co">#&gt; [1] "my attribute"</span></span>
<span id="cb85-6"><a></a><span class="fu">attr</span>(foo, <span class="at">which =</span> <span class="st">"comment"</span>)</span>
<span id="cb85-7"><a></a><span class="co">#&gt; [1] "my attribute"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="class---s3-atomic-vectors" class="slide level2 scrollable">
<h2><strong>Class</strong> - S3 atomic vectors</h2>

<img data-src="images/vectors/summary-tree-s3-1.png" class="r-stretch"><p>Credit: <a href="https://adv-r.hadley.nz/index.html">Advanced R</a> by Hadley Wickham</p>
<p><strong>Having a class attribute turns an object into an S3 object.</strong></p>
<p>What makes S3 atomic vectors different?</p>
<ol type="1">
<li>behave differently from a regular vector when passed to a generic function</li>
<li>often store additional information in other attributes</li>
</ol>
</section>
<section id="four-important-s3-vectors-used-in-base-r" class="slide level2 scrollable">
<h2>Four important S3 vectors used in base R:</h2>
<ol type="1">
<li><strong>Factors</strong> (categorical data)</li>
<li><strong>Dates</strong></li>
<li><strong>Date-times</strong> (POSIXct)</li>
<li><strong>Durations</strong> (difftime)</li>
</ol>
</section>
<section id="factors" class="slide level2">
<h2>Factors</h2>
<p>A factor is a vector used to store categorical data that can contain only predefined values.</p>
<p>Factors are integer vectors with:</p>
<ul>
<li>Class: “factor”</li>
<li>Attributes: “levels”, or the set of allowed values</li>
</ul>
</section>
<section id="factors-examples" class="slide level2">
<h2>Factors examples</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a></a>colors <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'red'</span>, <span class="st">'blue'</span>, <span class="st">'green'</span>,<span class="st">'red'</span>,<span class="st">'red'</span>, <span class="st">'green'</span>)</span>
<span id="cb86-2"><a></a>colors_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(</span>
<span id="cb86-3"><a></a>  <span class="at">x =</span> colors, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'red'</span>, <span class="st">'blue'</span>, <span class="st">'green'</span>, <span class="st">'yellow'</span>)</span>
<span id="cb86-4"><a></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="columns">
<div class="column">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a></a><span class="fu">table</span>(colors)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; colors
#&gt;  blue green   red 
#&gt;     1     2     3</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a></a><span class="fu">table</span>(colors_factor)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; colors_factor
#&gt;    red   blue  green yellow 
#&gt;      3      1      2      0</code></pre>
</div>
</div>
</div><div class="column">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a></a><span class="fu">typeof</span>(colors_factor)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "integer"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a></a><span class="fu">class</span>(colors_factor)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "factor"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a></a><span class="fu">attributes</span>(colors_factor)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; $levels
#&gt; [1] "red"    "blue"   "green"  "yellow"
#&gt; 
#&gt; $class
#&gt; [1] "factor"</code></pre>
</div>
</div>
</div></div>
</section>
<section id="custom-order" class="slide level2">
<h2>Custom Order</h2>
<p>Factors can be ordered. This can be useful for models or visualizations where order matters.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a></a>values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'high'</span>, <span class="st">'med'</span>, <span class="st">'low'</span>, <span class="st">'med'</span>, <span class="st">'high'</span>, <span class="st">'low'</span>, <span class="st">'med'</span>, <span class="st">'high'</span>)</span>
<span id="cb97-2"><a></a>ordered_factor <span class="ot">&lt;-</span> <span class="fu">ordered</span>(</span>
<span id="cb97-3"><a></a>  <span class="at">x =</span> values,</span>
<span id="cb97-4"><a></a>  <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'low'</span>, <span class="st">'med'</span>, <span class="st">'high'</span>) <span class="co"># in order</span></span>
<span id="cb97-5"><a></a>)</span>
<span id="cb97-6"><a></a>ordered_factor</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] high med  low  med  high low  med  high
#&gt; Levels: low &lt; med &lt; high</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a></a><span class="fu">table</span>(values)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; values
#&gt; high  low  med 
#&gt;    3    2    3</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a></a><span class="fu">table</span>(ordered_factor)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; ordered_factor
#&gt;  low  med high 
#&gt;    2    3    3</code></pre>
</div>
</div>
</section>
<section id="dates" class="slide level2">
<h2>Dates</h2>
<p>Dates are:</p>
<ul>
<li>Double vectors</li>
<li>With class “Date”</li>
<li>No other attributes</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a></a>notes_date <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>()</span>
<span id="cb103-2"><a></a></span>
<span id="cb103-3"><a></a><span class="co"># type</span></span>
<span id="cb103-4"><a></a><span class="fu">typeof</span>(notes_date)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "double"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a></a><span class="co"># class</span></span>
<span id="cb105-2"><a></a><span class="fu">attributes</span>(notes_date)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; $class
#&gt; [1] "Date"</code></pre>
</div>
</div>
</section>
<section id="dates-unix-epoch" class="slide level2">
<h2>Dates Unix epoch</h2>
<p>The double component represents the number of days since since the <a href="https://en.wikipedia.org/wiki/Unix_time">Unix epoch</a> <code>1970-01-01</code></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a></a>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"1970-02-01"</span>)</span>
<span id="cb107-2"><a></a><span class="fu">unclass</span>(date)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] 31</code></pre>
</div>
</div>
</section>
<section id="date-times" class="slide level2">
<h2>Date-times</h2>
<p>There are 2 Date-time representations in base R:</p>
<ul>
<li>POSIXct, where “ct” denotes <em>calendar time</em></li>
<li>POSIXlt, where “lt” designates <em>local time</em></li>
</ul>
<!--

Just for fun:
"How to pronounce 'POSIXct'?"
https://www.howtopronounce.com/posixct

-->
</section>
<section id="dates-times-posixct" class="slide level2">
<h2>Dates-times: POSIXct</h2>
<p>We’ll focus on POSIXct because:</p>
<ul>
<li>Simplest</li>
<li>Built on an atomic (double) vector</li>
<li>Most appropriate for use in a data frame</li>
</ul>
<p>Let’s now build and deconstruct a Date-time</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a></a><span class="co"># Build</span></span>
<span id="cb109-2"><a></a>note_date_time <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(</span>
<span id="cb109-3"><a></a>  <span class="at">x =</span> <span class="fu">Sys.time</span>(), <span class="co"># time</span></span>
<span id="cb109-4"><a></a>  <span class="at">tz =</span> <span class="st">"America/New_York"</span> <span class="co"># time zone, used only for formatting</span></span>
<span id="cb109-5"><a></a>)</span>
<span id="cb109-6"><a></a></span>
<span id="cb109-7"><a></a><span class="co"># Inspect</span></span>
<span id="cb109-8"><a></a>note_date_time</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "2025-09-03 07:11:21 EDT"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a></a><span class="co"># - type</span></span>
<span id="cb111-2"><a></a><span class="fu">typeof</span>(note_date_time)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "double"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a></a><span class="co"># - attributes</span></span>
<span id="cb113-2"><a></a><span class="fu">attributes</span>(note_date_time)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; $class
#&gt; [1] "POSIXct" "POSIXt" 
#&gt; 
#&gt; $tzone
#&gt; [1] "America/New_York"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a></a><span class="fu">structure</span>(note_date_time, <span class="at">tzone =</span> <span class="st">"Europe/Paris"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "2025-09-03 13:11:21 CEST"</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a></a>date_time <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="st">"2024-02-22 12:34:56"</span>, <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb117-2"><a></a><span class="fu">unclass</span>(date_time)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] 1708623296
#&gt; attr(,"tzone")
#&gt; [1] "EST"</code></pre>
</div>
</div>
</section>
<section id="durations" class="slide level2">
<h2>Durations</h2>
<p>Durations represent the amount of time between pairs of dates or date-times.</p>
<ul>
<li>Double vectors</li>
<li>Class: “difftime”</li>
<li>Attributes: “units”, or the unit of duration (e.g., weeks, hours, minutes, seconds, etc.)</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a></a><span class="co"># Construct</span></span>
<span id="cb119-2"><a></a>one_minute <span class="ot">&lt;-</span> <span class="fu">as.difftime</span>(<span class="dv">1</span>, <span class="at">units =</span> <span class="st">"mins"</span>)</span>
<span id="cb119-3"><a></a><span class="co"># Inspect</span></span>
<span id="cb119-4"><a></a>one_minute</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; Time difference of 1 mins</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a></a><span class="co"># Dissect</span></span>
<span id="cb121-2"><a></a><span class="co"># - type</span></span>
<span id="cb121-3"><a></a><span class="fu">typeof</span>(one_minute)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "double"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a></a><span class="co"># - attributes</span></span>
<span id="cb123-2"><a></a><span class="fu">attributes</span>(one_minute)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; $class
#&gt; [1] "difftime"
#&gt; 
#&gt; $units
#&gt; [1] "mins"</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a></a>time_since_01_01_1970 <span class="ot">&lt;-</span> notes_date <span class="sc">-</span> date</span>
<span id="cb125-2"><a></a>time_since_01_01_1970</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; Time difference of 20303 days</code></pre>
</div>
</div>
<p>See also:</p>
<ul>
<li><a href="https://lubridate.tidyverse.org/reference/make_difftime.html"><code>lubridate::make_difftime()</code></a></li>
<li><a href="https://clock.r-lib.org/reference/date_time_build.html"><code>clock::date_time_build()</code></a></li>
</ul>
</section>
<section id="exercises-13" class="slide level2 scrollable">
<h2>Exercises 1/3</h2>
<ol type="1">
<li>What sort of object does <code>table()</code> return? What is its type? What attributes does it have? How does the dimensionality change as you tabulate more variables?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
<p><code>table()</code> returns a contingency table of its input variables. It is implemented as an integer vector with class table and dimensions (which makes it act like an array). Its attributes are dim (dimensions) and dimnames (one name for each input column). The dimensions correspond to the number of unique values (factor levels) in each input variable.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb127"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a></a>x <span class="ot">&lt;-</span> <span class="fu">table</span>(mtcars[<span class="fu">c</span>(<span class="st">"vs"</span>, <span class="st">"cyl"</span>, <span class="st">"am"</span>)])</span>
<span id="cb127-2"><a></a></span>
<span id="cb127-3"><a></a><span class="fu">typeof</span>(x)</span>
<span id="cb127-4"><a></a><span class="co">#&gt; [1] "integer"</span></span>
<span id="cb127-5"><a></a><span class="fu">attributes</span>(x)</span>
<span id="cb127-6"><a></a><span class="co">#&gt; $dim</span></span>
<span id="cb127-7"><a></a><span class="co">#&gt; [1] 2 3 2</span></span>
<span id="cb127-8"><a></a><span class="co">#&gt; </span></span>
<span id="cb127-9"><a></a><span class="co">#&gt; $dimnames</span></span>
<span id="cb127-10"><a></a><span class="co">#&gt; $dimnames$vs</span></span>
<span id="cb127-11"><a></a><span class="co">#&gt; [1] "0" "1"</span></span>
<span id="cb127-12"><a></a><span class="co">#&gt; </span></span>
<span id="cb127-13"><a></a><span class="co">#&gt; $dimnames$cyl</span></span>
<span id="cb127-14"><a></a><span class="co">#&gt; [1] "4" "6" "8"</span></span>
<span id="cb127-15"><a></a><span class="co">#&gt; </span></span>
<span id="cb127-16"><a></a><span class="co">#&gt; $dimnames$am</span></span>
<span id="cb127-17"><a></a><span class="co">#&gt; [1] "0" "1"</span></span>
<span id="cb127-18"><a></a><span class="co">#&gt; </span></span>
<span id="cb127-19"><a></a><span class="co">#&gt; </span></span>
<span id="cb127-20"><a></a><span class="co">#&gt; $class</span></span>
<span id="cb127-21"><a></a><span class="co">#&gt; [1] "table"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="exercises-23" class="slide level2 scrollable">
<h2>Exercises 2/3</h2>
<ol start="2" type="1">
<li>What happens to a factor when you modify its levels?</li>
</ol>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb128"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a></a>f1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(letters)</span>
<span id="cb128-2"><a></a><span class="fu">levels</span>(f1) <span class="ot">&lt;-</span> <span class="fu">rev</span>(<span class="fu">levels</span>(f1))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<details>
<summary>
Answer(s)
</summary>
<p>The underlying integer values stay the same, but the levels are changed, making it look like the data has changed.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb129"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a></a>f1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(letters)</span>
<span id="cb129-2"><a></a>f1</span>
<span id="cb129-3"><a></a><span class="co">#&gt;  [1] a b c d e f g h i j k l m n o p q r s t u v w x y z</span></span>
<span id="cb129-4"><a></a><span class="co">#&gt; Levels: a b c d e f g h i j k l m n o p q r s t u v w x y z</span></span>
<span id="cb129-5"><a></a><span class="fu">as.integer</span>(f1)</span>
<span id="cb129-6"><a></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25</span></span>
<span id="cb129-7"><a></a><span class="co">#&gt; [26] 26</span></span>
<span id="cb129-8"><a></a></span>
<span id="cb129-9"><a></a><span class="fu">levels</span>(f1) <span class="ot">&lt;-</span> <span class="fu">rev</span>(<span class="fu">levels</span>(f1))</span>
<span id="cb129-10"><a></a>f1</span>
<span id="cb129-11"><a></a><span class="co">#&gt;  [1] z y x w v u t s r q p o n m l k j i h g f e d c b a</span></span>
<span id="cb129-12"><a></a><span class="co">#&gt; Levels: z y x w v u t s r q p o n m l k j i h g f e d c b a</span></span>
<span id="cb129-13"><a></a><span class="fu">as.integer</span>(f1)</span>
<span id="cb129-14"><a></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25</span></span>
<span id="cb129-15"><a></a><span class="co">#&gt; [26] 26</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="exercises-33" class="slide level2 scrollable">
<h2>Exercises 3/3</h2>
<ol start="3" type="1">
<li>What does this code do? How do <code>f2</code> and <code>f3</code> differ from <code>f1</code>?</li>
</ol>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb130"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a></a>f2 <span class="ot">&lt;-</span> <span class="fu">rev</span>(<span class="fu">factor</span>(letters))</span>
<span id="cb130-2"><a></a>f3 <span class="ot">&lt;-</span> <span class="fu">factor</span>(letters, <span class="at">levels =</span> <span class="fu">rev</span>(letters))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<details>
<summary>
Answer(s)
</summary>
<p>For <code>f2</code> and <code>f3</code> either the order of the factor elements or its levels are being reversed. For <code>f1</code> both transformations are occurring.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb131"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a></a><span class="co"># Reverse element order</span></span>
<span id="cb131-2"><a></a>(f2 <span class="ot">&lt;-</span> <span class="fu">rev</span>(<span class="fu">factor</span>(letters)))</span>
<span id="cb131-3"><a></a><span class="co">#&gt;  [1] z y x w v u t s r q p o n m l k j i h g f e d c b a</span></span>
<span id="cb131-4"><a></a><span class="co">#&gt; Levels: a b c d e f g h i j k l m n o p q r s t u v w x y z</span></span>
<span id="cb131-5"><a></a><span class="fu">as.integer</span>(f2)</span>
<span id="cb131-6"><a></a><span class="co">#&gt;  [1] 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10  9  8  7  6  5  4  3  2</span></span>
<span id="cb131-7"><a></a><span class="co">#&gt; [26]  1</span></span>
<span id="cb131-8"><a></a></span>
<span id="cb131-9"><a></a><span class="co"># Reverse factor levels (when creating factor)</span></span>
<span id="cb131-10"><a></a>(f3 <span class="ot">&lt;-</span> <span class="fu">factor</span>(letters, <span class="at">levels =</span> <span class="fu">rev</span>(letters)))</span>
<span id="cb131-11"><a></a><span class="co">#&gt;  [1] a b c d e f g h i j k l m n o p q r s t u v w x y z</span></span>
<span id="cb131-12"><a></a><span class="co">#&gt; Levels: z y x w v u t s r q p o n m l k j i h g f e d c b a</span></span>
<span id="cb131-13"><a></a><span class="fu">as.integer</span>(f3)</span>
<span id="cb131-14"><a></a><span class="co">#&gt;  [1] 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10  9  8  7  6  5  4  3  2</span></span>
<span id="cb131-15"><a></a><span class="co">#&gt; [26]  1</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="lists" class="slide level2">
<h2>Lists</h2>
<ul>
<li>sometimes called a generic vector or recursive vector</li>
<li>Recall (<a href="https://adv-r.hadley.nz/names-values.html#list-references">section 2.3.3</a>): each element is really a <em>reference</em> to another object</li>
<li>an be composed of elements of different types (as opposed to atomic vectors which must be of only one type)</li>
</ul>
</section>
<section id="constructing" class="slide level2">
<h2>Constructing</h2>
<p>Simple lists:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb132"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a></a><span class="co"># Construct</span></span>
<span id="cb132-2"><a></a>simple_list <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb132-3"><a></a>  <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>),   <span class="co"># logicals</span></span>
<span id="cb132-4"><a></a>  <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>,             <span class="co"># integers</span></span>
<span id="cb132-5"><a></a>  <span class="fu">c</span>(<span class="fl">1.2</span>, <span class="fl">2.3</span>, <span class="fl">3.4</span>), <span class="co"># doubles</span></span>
<span id="cb132-6"><a></a>  <span class="fu">c</span>(<span class="st">"primo"</span>, <span class="st">"secundo"</span>, <span class="st">"tercio"</span>) <span class="co"># characters</span></span>
<span id="cb132-7"><a></a>)</span>
<span id="cb132-8"><a></a></span>
<span id="cb132-9"><a></a>simple_list</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [[1]]
#&gt; [1]  TRUE FALSE
#&gt; 
#&gt; [[2]]
#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
#&gt; 
#&gt; [[3]]
#&gt; [1] 1.2 2.3 3.4
#&gt; 
#&gt; [[4]]
#&gt; [1] "primo"   "secundo" "tercio"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb134"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a></a><span class="co"># Inspect</span></span>
<span id="cb134-2"><a></a><span class="co"># - type</span></span>
<span id="cb134-3"><a></a><span class="fu">typeof</span>(simple_list)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "list"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb136"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a></a><span class="co"># - structure</span></span>
<span id="cb136-2"><a></a><span class="fu">str</span>(simple_list)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; List of 4
#&gt;  $ : logi [1:2] TRUE FALSE
#&gt;  $ : int [1:20] 1 2 3 4 5 6 7 8 9 10 ...
#&gt;  $ : num [1:3] 1.2 2.3 3.4
#&gt;  $ : chr [1:3] "primo" "secundo" "tercio"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb138"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a></a><span class="co"># Accessing</span></span>
<span id="cb138-2"><a></a>simple_list[<span class="dv">1</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [[1]]
#&gt; [1]  TRUE FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb140"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a></a>simple_list[<span class="dv">2</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [[1]]
#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb142"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a></a>simple_list[<span class="dv">3</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [[1]]
#&gt; [1] 1.2 2.3 3.4</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb144"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a></a>simple_list[<span class="dv">4</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [[1]]
#&gt; [1] "primo"   "secundo" "tercio"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb146"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a></a>simple_list[[<span class="dv">1</span>]][<span class="dv">2</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] FALSE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb148"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a></a>simple_list[[<span class="dv">2</span>]][<span class="dv">8</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] 8</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb150"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a></a>simple_list[[<span class="dv">3</span>]][<span class="dv">2</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] 2.3</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb152"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a></a>simple_list[[<span class="dv">4</span>]][<span class="dv">3</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "tercio"</code></pre>
</div>
</div>
</section>
<section id="even-simpler-list" class="slide level2">
<h2>Even Simpler List</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb154"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a></a><span class="co"># Construct</span></span>
<span id="cb154-2"><a></a>simpler_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, </span>
<span id="cb154-3"><a></a>                    <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, </span>
<span id="cb154-4"><a></a>                    <span class="fl">1.2</span>, <span class="fl">2.3</span>, <span class="fl">3.4</span>, </span>
<span id="cb154-5"><a></a>                    <span class="st">"primo"</span>, <span class="st">"secundo"</span>, <span class="st">"tercio"</span>)</span>
<span id="cb154-6"><a></a></span>
<span id="cb154-7"><a></a><span class="co"># Accessing</span></span>
<span id="cb154-8"><a></a>simpler_list[<span class="dv">1</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [[1]]
#&gt; [1] TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb156"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a></a>simpler_list[<span class="dv">5</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [[1]]
#&gt; [1] 3</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb158"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a></a>simpler_list[<span class="dv">9</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [[1]]
#&gt; [1] 2.3</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb160"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a></a>simpler_list[<span class="dv">11</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [[1]]
#&gt; [1] "primo"</code></pre>
</div>
</div>
</section>
<section id="nested-lists" class="slide level2">
<h2>Nested lists:</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb162"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a></a>nested_list <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb162-2"><a></a>  <span class="co"># first level</span></span>
<span id="cb162-3"><a></a>  <span class="fu">list</span>(</span>
<span id="cb162-4"><a></a>    <span class="co"># second level</span></span>
<span id="cb162-5"><a></a>    <span class="fu">list</span>(</span>
<span id="cb162-6"><a></a>      <span class="co"># third level</span></span>
<span id="cb162-7"><a></a>      <span class="fu">list</span>(<span class="dv">1</span>)</span>
<span id="cb162-8"><a></a>    )</span>
<span id="cb162-9"><a></a>  )</span>
<span id="cb162-10"><a></a>)</span>
<span id="cb162-11"><a></a></span>
<span id="cb162-12"><a></a><span class="fu">str</span>(nested_list)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; List of 1
#&gt;  $ :List of 1
#&gt;   ..$ :List of 1
#&gt;   .. ..$ :List of 1
#&gt;   .. .. ..$ : num 1</code></pre>
</div>
</div>
<p>Like JSON.</p>
</section>
<section id="combined-lists" class="slide level2">
<h2>Combined lists</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb164"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a></a>list_comb1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">list</span>(<span class="dv">3</span>, <span class="dv">4</span>)) <span class="co"># with list()</span></span>
<span id="cb164-2"><a></a>list_comb2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">list</span>(<span class="dv">3</span>, <span class="dv">4</span>)) <span class="co"># with c()</span></span>
<span id="cb164-3"><a></a></span>
<span id="cb164-4"><a></a><span class="co"># compare structure</span></span>
<span id="cb164-5"><a></a><span class="fu">str</span>(list_comb1)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; List of 2
#&gt;  $ :List of 2
#&gt;   ..$ : num 1
#&gt;   ..$ : num 2
#&gt;  $ :List of 2
#&gt;   ..$ : num 3
#&gt;   ..$ : num 4</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb166"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a></a><span class="fu">str</span>(list_comb2)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; List of 4
#&gt;  $ : num 1
#&gt;  $ : num 2
#&gt;  $ : num 3
#&gt;  $ : num 4</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb168"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a></a><span class="co"># does this work if they are different data types?</span></span>
<span id="cb168-2"><a></a>list_comb3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">list</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>))</span>
<span id="cb168-3"><a></a><span class="fu">str</span>(list_comb3)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; List of 4
#&gt;  $ : num 1
#&gt;  $ : num 2
#&gt;  $ : logi TRUE
#&gt;  $ : logi FALSE</code></pre>
</div>
</div>
</section>
<section id="testing" class="slide level2">
<h2>Testing</h2>
<p>Check that is a list:</p>
<ul>
<li><code>is.list()</code></li>
<li>`rlang::is_list()``</li>
</ul>
<p>The two do the same, except that the latter can check for the number of elements</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb170"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a></a><span class="co"># is list</span></span>
<span id="cb170-2"><a></a>base<span class="sc">::</span><span class="fu">is.list</span>(list_comb2)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb172"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a></a>rlang<span class="sc">::</span><span class="fu">is_list</span>(list_comb2)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb174"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a></a><span class="co"># is list of 4 elements</span></span>
<span id="cb174-2"><a></a>rlang<span class="sc">::</span><span class="fu">is_list</span>(<span class="at">x =</span> list_comb2, <span class="at">n =</span> <span class="dv">4</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb176"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a></a><span class="co"># is a vector (of a special type)</span></span>
<span id="cb176-2"><a></a><span class="co"># remember the family tree?</span></span>
<span id="cb176-3"><a></a>rlang<span class="sc">::</span><span class="fu">is_vector</span>(list_comb2)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] TRUE</code></pre>
</div>
</div>
</section>
<section id="coercion-1" class="slide level2">
<h2>Coercion</h2>
<p>Use <code>as.list()</code></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb178"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a></a><span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [[1]]
#&gt; [1] 1 2 3</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb180"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a></a><span class="fu">as.list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [[1]]
#&gt; [1] 1
#&gt; 
#&gt; [[2]]
#&gt; [1] 2
#&gt; 
#&gt; [[3]]
#&gt; [1] 3</code></pre>
</div>
</div>
</section>
<section id="matrices-and-arrays" class="slide level2">
<h2>Matrices and arrays</h2>
<p>Although not often used, the dimension attribute can be added to create <strong>list-matrices</strong> or <strong>list-arrays</strong>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb182"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a></a>l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="st">"a"</span>, <span class="cn">TRUE</span>, <span class="fl">1.0</span>)</span>
<span id="cb182-2"><a></a><span class="fu">dim</span>(l) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>); l</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;      [,1]      [,2]
#&gt; [1,] integer,3 TRUE
#&gt; [2,] "a"       1</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb184"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a></a>l[[<span class="dv">1</span>, <span class="dv">1</span>]]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] 1 2 3</code></pre>
</div>
</div>
</section>
<section id="exercises-13-1" class="slide level2 scrollable">
<h2>Exercises 1/3</h2>
<ol type="1">
<li>List all the ways that a list differs from an atomic vector.</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
<ul>
<li>Atomic vectors are always homogeneous (all elements must be of the same type). Lists may be heterogeneous (the elements can be of different types) as described in the introduction of the vectors chapter.</li>
<li>Atomic vectors point to one address in memory, while lists contain a separate reference for each element. (This was described in the list sections of the vectors and the names and values chapters.)</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb186"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a></a>lobstr<span class="sc">::</span><span class="fu">ref</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span>
<span id="cb186-2"><a></a><span class="co">#&gt; [1:0x7fcd936f6e80] &lt;int&gt;</span></span>
<span id="cb186-3"><a></a>lobstr<span class="sc">::</span><span class="fu">ref</span>(<span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb186-4"><a></a><span class="co">#&gt; █ [1:0x7fcd93d53048] &lt;list&gt; </span></span>
<span id="cb186-5"><a></a><span class="co">#&gt; ├─[2:0x7fcd91377e40] &lt;int&gt; </span></span>
<span id="cb186-6"><a></a><span class="co">#&gt; └─[3:0x7fcd93b41eb0] &lt;dbl&gt;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<ul>
<li>Subsetting with out-of-bounds and NA values leads to different output. For example, [ returns NA for atomics and NULL for lists. (This is described in more detail within the subsetting chapter.)</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb187"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a></a><span class="co"># Subsetting atomic vectors</span></span>
<span id="cb187-2"><a></a>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)[<span class="dv">3</span>]</span>
<span id="cb187-3"><a></a><span class="co">#&gt; [1] NA</span></span>
<span id="cb187-4"><a></a>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)[<span class="cn">NA</span>]</span>
<span id="cb187-5"><a></a><span class="co">#&gt; [1] NA NA</span></span>
<span id="cb187-6"><a></a></span>
<span id="cb187-7"><a></a><span class="co"># Subsetting lists</span></span>
<span id="cb187-8"><a></a><span class="fu">as.list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)[<span class="dv">3</span>]</span>
<span id="cb187-9"><a></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb187-10"><a></a><span class="co">#&gt; NULL</span></span>
<span id="cb187-11"><a></a><span class="fu">as.list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)[<span class="cn">NA</span>]</span>
<span id="cb187-12"><a></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb187-13"><a></a><span class="co">#&gt; NULL</span></span>
<span id="cb187-14"><a></a><span class="co">#&gt; </span></span>
<span id="cb187-15"><a></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb187-16"><a></a><span class="co">#&gt; NULL</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="exercises-23-1" class="slide level2 scrollable">
<h2>Exercises 2/3</h2>
<ol start="2" type="1">
<li>Why do you need to use <code>unlist()</code> to convert a list to an atomic vector? Why doesn’t <code>as.vector()</code> work?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
<p>A list is already a vector, though not an atomic one! Note that as.vector() and is.vector() use different definitions of “vector!”</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb188"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a></a><span class="fu">is.vector</span>(<span class="fu">as.vector</span>(mtcars))</span>
<span id="cb188-2"><a></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="exercises-33-1" class="slide level2 scrollable">
<h2>Exercises 3/3</h2>
<ol start="3" type="1">
<li>Compare and contrast <code>c()</code> and <code>unlist()</code> when combining a date and date-time into a single vector.</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
<p>Date and date-time objects are both built upon doubles. While dates store the number of days since the reference date 1970-01-01 (also known as “the Epoch”) in days, date-time-objects (POSIXct) store the time difference to this date in seconds.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb189"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a></a>date    <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"1970-01-02"</span>)</span>
<span id="cb189-2"><a></a>dttm_ct <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="st">"1970-01-01 01:00"</span>, <span class="at">tz =</span> <span class="st">"UTC"</span>)</span>
<span id="cb189-3"><a></a></span>
<span id="cb189-4"><a></a><span class="co"># Internal representations</span></span>
<span id="cb189-5"><a></a><span class="fu">unclass</span>(date)</span>
<span id="cb189-6"><a></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb189-7"><a></a><span class="fu">unclass</span>(dttm_ct)</span>
<span id="cb189-8"><a></a><span class="co">#&gt; [1] 3600</span></span>
<span id="cb189-9"><a></a><span class="co">#&gt; attr(,"tzone")</span></span>
<span id="cb189-10"><a></a><span class="co">#&gt; [1] "UTC"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>As the c() generic only dispatches on its first argument, combining date and date-time objects via c() could lead to surprising results in older R versions (pre R 4.0.0):</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb190"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a></a><span class="co"># Output in R version 3.6.2</span></span>
<span id="cb190-2"><a></a><span class="fu">c</span>(date, dttm_ct)  <span class="co"># equal to c.Date(date, dttm_ct) </span></span>
<span id="cb190-3"><a></a><span class="co">#&gt; [1] "1970-01-02" "1979-11-10"</span></span>
<span id="cb190-4"><a></a><span class="fu">c</span>(dttm_ct, date)  <span class="co"># equal to c.POSIXct(date, dttm_ct)</span></span>
<span id="cb190-5"><a></a><span class="co">#&gt; [1] "1970-01-01 02:00:00 CET" "1970-01-01 01:00:01 CET"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>In the first statement above c.Date() is executed, which incorrectly treats the underlying double of dttm_ct (3600) as days instead of seconds. Conversely, when c.POSIXct() is called on a date, one day is counted as one second only.</p>
<p>We can highlight these mechanics by the following code:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb191"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a></a><span class="co"># Output in R version 3.6.2</span></span>
<span id="cb191-2"><a></a><span class="fu">unclass</span>(<span class="fu">c</span>(date, dttm_ct))  <span class="co"># internal representation</span></span>
<span id="cb191-3"><a></a><span class="co">#&gt; [1] 1 3600</span></span>
<span id="cb191-4"><a></a>date <span class="sc">+</span> <span class="dv">3599</span></span>
<span id="cb191-5"><a></a><span class="co">#&gt; "1979-11-10"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>As of R 4.0.0 these issues have been resolved and both methods now convert their input first into POSIXct and Date, respectively.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb192"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a></a><span class="fu">c</span>(dttm_ct, date)</span>
<span id="cb192-2"><a></a><span class="co">#&gt; [1] "1970-01-01 01:00:00 UTC" "1970-01-02 00:00:00 UTC"</span></span>
<span id="cb192-3"><a></a><span class="fu">unclass</span>(<span class="fu">c</span>(dttm_ct, date))</span>
<span id="cb192-4"><a></a><span class="co">#&gt; [1]  3600 86400</span></span>
<span id="cb192-5"><a></a></span>
<span id="cb192-6"><a></a><span class="fu">c</span>(date, dttm_ct)</span>
<span id="cb192-7"><a></a><span class="co">#&gt; [1] "1970-01-02" "1970-01-01"</span></span>
<span id="cb192-8"><a></a><span class="fu">unclass</span>(<span class="fu">c</span>(date, dttm_ct))</span>
<span id="cb192-9"><a></a><span class="co">#&gt; [1] 1 0</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>However, as c() strips the time zone (and other attributes) of POSIXct objects, some caution is still recommended.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb193"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a></a>(dttm_ct <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="st">"1970-01-01 01:00"</span>, <span class="at">tz =</span> <span class="st">"HST"</span>))</span>
<span id="cb193-2"><a></a><span class="co">#&gt; [1] "1970-01-01 01:00:00 HST"</span></span>
<span id="cb193-3"><a></a><span class="fu">attributes</span>(<span class="fu">c</span>(dttm_ct))</span>
<span id="cb193-4"><a></a><span class="co">#&gt; $class</span></span>
<span id="cb193-5"><a></a><span class="co">#&gt; [1] "POSIXct" "POSIXt"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>A package that deals with these kinds of problems in more depth and provides a structural solution for them is the {vctrs} package9 which is also used throughout the tidyverse.10</p>
<p>Let’s look at unlist(), which operates on list input.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb194"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a></a><span class="co"># Attributes are stripped</span></span>
<span id="cb194-2"><a></a><span class="fu">unlist</span>(<span class="fu">list</span>(date, dttm_ct))  </span>
<span id="cb194-3"><a></a><span class="co">#&gt; [1]     1 39600</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We see again that dates and date-times are internally stored as doubles. Unfortunately, this is all we are left with, when unlist strips the attributes of the list.</p>
To summarise: c() coerces types and strips time zones. Errors may have occurred in older R versions because of inappropriate method dispatch/immature methods. unlist() strips attributes.
</details>
</section>
<section id="data-frames-and-tibbles" class="slide level2">
<h2>Data frames and tibbles</h2>

<img data-src="images/vectors/summary-tree-s3-2.png" class="r-stretch"><p>Credit: <a href="https://adv-r.hadley.nz/index.html">Advanced R</a> by Hadley Wickham</p>
</section>
<section id="data-frame" class="slide level2">
<h2>Data frame</h2>
<p>A data frame is a:</p>
<ul>
<li>Named list of vectors (i.e., column names)</li>
<li>Attributes:
<ul>
<li>(column) <code>names</code></li>
<li><code>row.names</code></li>
<li>Class: “data frame”</li>
</ul></li>
</ul>
</section>
<section id="data-frame-examples-12" class="slide level2">
<h2>Data frame, examples 1/2:</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb195"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a></a><span class="co"># Construct</span></span>
<span id="cb195-2"><a></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb195-3"><a></a>  <span class="at">col1 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),              <span class="co"># named atomic vector</span></span>
<span id="cb195-4"><a></a>  <span class="at">col2 =</span> <span class="fu">c</span>(<span class="st">"un"</span>, <span class="st">"deux"</span>, <span class="st">"trois"</span>) <span class="co"># another named atomic vector</span></span>
<span id="cb195-5"><a></a>  <span class="co"># ,stringsAsFactors = FALSE # default for versions after R 4.1</span></span>
<span id="cb195-6"><a></a>)</span>
<span id="cb195-7"><a></a><span class="co"># Inspect</span></span>
<span id="cb195-8"><a></a>df</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;   col1  col2
#&gt; 1    1    un
#&gt; 2    2  deux
#&gt; 3    3 trois</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb197"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a></a><span class="co"># Deconstruct</span></span>
<span id="cb197-2"><a></a><span class="co"># - type</span></span>
<span id="cb197-3"><a></a><span class="fu">typeof</span>(df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "list"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb199"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a></a><span class="co"># - attributes</span></span>
<span id="cb199-2"><a></a><span class="fu">attributes</span>(df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; $names
#&gt; [1] "col1" "col2"
#&gt; 
#&gt; $class
#&gt; [1] "data.frame"
#&gt; 
#&gt; $row.names
#&gt; [1] 1 2 3</code></pre>
</div>
</div>
</section>
<section id="data-frame-examples-22" class="slide level2">
<h2>Data frame, examples 2/2:</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb201"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a></a><span class="fu">rownames</span>(df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "1" "2" "3"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb203"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a></a><span class="fu">colnames</span>(df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "col1" "col2"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb205"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a></a><span class="fu">names</span>(df) <span class="co"># Same as colnames(df)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "col1" "col2"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb207"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb207-1"><a></a><span class="fu">nrow</span>(df) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] 3</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb209"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a></a><span class="fu">ncol</span>(df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] 2</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb211"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a></a><span class="fu">length</span>(df) <span class="co"># Same as ncol(df)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] 2</code></pre>
</div>
</div>
<p>Unlike other lists, the length of each vector must be the same (i.e.&nbsp;as many vector elements as rows in the data frame).</p>
</section>
<section id="tibble" class="slide level2">
<h2>Tibble</h2>
<p>Created to relieve some of the frustrations and pain points created by data frames, tibbles are data frames that are:</p>
<ul>
<li>Lazy (do less)</li>
<li>Surly (complain more)</li>
</ul>
</section>
<section id="lazy" class="slide level2">
<h2>Lazy</h2>
<p>Tibbles do not:</p>
<ul>
<li>Coerce strings</li>
<li>Transform non-syntactic names</li>
<li>Recycle vectors of length greater than 1</li>
</ul>
</section>
<section id="coerce-strings" class="slide level2">
<h2>! Coerce strings</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb213"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a></a>chr_col <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"don't"</span>, <span class="st">"factor"</span>, <span class="st">"me"</span>, <span class="st">"bro"</span>)</span>
<span id="cb213-2"><a></a></span>
<span id="cb213-3"><a></a><span class="co"># data frame</span></span>
<span id="cb213-4"><a></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb213-5"><a></a>  <span class="at">a =</span> chr_col,</span>
<span id="cb213-6"><a></a>  <span class="co"># in R 4.1 and earlier, this was the default</span></span>
<span id="cb213-7"><a></a>  <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span></span>
<span id="cb213-8"><a></a>)</span>
<span id="cb213-9"><a></a></span>
<span id="cb213-10"><a></a><span class="co"># tibble</span></span>
<span id="cb213-11"><a></a>tbl <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb213-12"><a></a>  <span class="at">a =</span> chr_col</span>
<span id="cb213-13"><a></a>)</span>
<span id="cb213-14"><a></a></span>
<span id="cb213-15"><a></a><span class="co"># contrast the structure</span></span>
<span id="cb213-16"><a></a><span class="fu">str</span>(df<span class="sc">$</span>a)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;  Factor w/ 4 levels "bro","don't",..: 2 3 4 1</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb215"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a></a><span class="fu">str</span>(tbl<span class="sc">$</span>a)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;  chr [1:4] "don't" "factor" "me" "bro"</code></pre>
</div>
</div>
</section>
<section id="transform-non-syntactic-names" class="slide level2">
<h2>! Transform non-syntactic names</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb217"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb217-1"><a></a><span class="co"># data frame</span></span>
<span id="cb217-2"><a></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb217-3"><a></a>  <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb217-4"><a></a>)</span>
<span id="cb217-5"><a></a></span>
<span id="cb217-6"><a></a><span class="co"># tibble</span></span>
<span id="cb217-7"><a></a>tbl <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb217-8"><a></a>  <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb217-9"><a></a>)</span>
<span id="cb217-10"><a></a></span>
<span id="cb217-11"><a></a><span class="co"># contrast the names</span></span>
<span id="cb217-12"><a></a><span class="fu">names</span>(df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "X1"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb219"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a></a><span class="fu">names</span>(tbl)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "1"</code></pre>
</div>
</div>
</section>
<section id="recycle-vectors-of-length-greater-than-1" class="slide level2">
<h2>! Recycle vectors of length greater than 1</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb221"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a></a><span class="co"># data frame</span></span>
<span id="cb221-2"><a></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb221-3"><a></a>  <span class="at">col1 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>),</span>
<span id="cb221-4"><a></a>  <span class="at">col2 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb221-5"><a></a>)</span>
<span id="cb221-6"><a></a></span>
<span id="cb221-7"><a></a><span class="co"># tibble</span></span>
<span id="cb221-8"><a></a>tbl <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb221-9"><a></a>  <span class="at">col1 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>),</span>
<span id="cb221-10"><a></a>  <span class="at">col2 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb221-11"><a></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<pre><code>#&gt; Error in `tibble::tibble()`:
#&gt; ! Tibble columns must have compatible sizes.
#&gt; • Size 4: Existing data.
#&gt; • Size 2: Column `col2`.
#&gt; ℹ Only values of size one are recycled.</code></pre>
</div>
</div>
</section>
<section id="surly" class="slide level2">
<h2>Surly</h2>
<p>Tibbles do only what they’re asked and complain if what they’re asked doesn’t make sense:</p>
<ul>
<li>Subsetting always yields a tibble</li>
<li>Complains if cannot find column</li>
</ul>
</section>
<section id="subsetting-always-yields-a-tibble" class="slide level2">
<h2>Subsetting always yields a tibble</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb223"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb223-1"><a></a><span class="co"># data frame</span></span>
<span id="cb223-2"><a></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb223-3"><a></a>  <span class="at">col1 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb223-4"><a></a>)</span>
<span id="cb223-5"><a></a></span>
<span id="cb223-6"><a></a><span class="co"># tibble</span></span>
<span id="cb223-7"><a></a>tbl <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb223-8"><a></a>  <span class="at">col1 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb223-9"><a></a>)</span>
<span id="cb223-10"><a></a></span>
<span id="cb223-11"><a></a><span class="co"># contrast</span></span>
<span id="cb223-12"><a></a>df_col <span class="ot">&lt;-</span> df[, <span class="st">"col1"</span>]</span>
<span id="cb223-13"><a></a><span class="fu">str</span>(df_col)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;  num [1:4] 1 2 3 4</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb225"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb225-1"><a></a>tbl_col <span class="ot">&lt;-</span> tbl[, <span class="st">"col1"</span>]</span>
<span id="cb225-2"><a></a><span class="fu">str</span>(tbl_col)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; tibble [4 × 1] (S3: tbl_df/tbl/data.frame)
#&gt;  $ col1: num [1:4] 1 2 3 4</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb227"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb227-1"><a></a><span class="co"># to select a vector, do one of these instead</span></span>
<span id="cb227-2"><a></a>tbl_col_1 <span class="ot">&lt;-</span> tbl[[<span class="st">"col1"</span>]]</span>
<span id="cb227-3"><a></a><span class="fu">str</span>(tbl_col_1)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;  num [1:4] 1 2 3 4</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb229"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb229-1"><a></a>tbl_col_2 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">pull</span>(tbl, col1)</span>
<span id="cb229-2"><a></a><span class="fu">str</span>(tbl_col_2)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;  num [1:4] 1 2 3 4</code></pre>
</div>
</div>
</section>
<section id="complains-if-cannot-find-column" class="slide level2">
<h2>Complains if cannot find column</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb231"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb231-1"><a></a><span class="fu">names</span>(df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "col1"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb233"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb233-1"><a></a>df<span class="sc">$</span>col</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] 1 2 3 4</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb235"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb235-1"><a></a><span class="fu">names</span>(tbl)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "col1"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb237"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb237-1"><a></a>tbl<span class="sc">$</span>col</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>#&gt; Warning: Unknown or uninitialised column: `col`.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; NULL</code></pre>
</div>
</div>
</section>
<section id="one-more-difference" class="slide level2 scrollable">
<h2>One more difference</h2>
<p><strong><code>tibble()</code> allows you to refer to variables created during construction</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb240"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb240-1"><a></a>tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb240-2"><a></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb240-3"><a></a>  <span class="at">y =</span> x <span class="sc">*</span> <span class="dv">2</span> <span class="co"># x refers to the line above</span></span>
<span id="cb240-4"><a></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; # A tibble: 3 × 2
#&gt;       x     y
#&gt;   &lt;int&gt; &lt;dbl&gt;
#&gt; 1     1     2
#&gt; 2     2     4
#&gt; 3     3     6</code></pre>
</div>
</div>
<details>
<summary>
Side Quest: Row Names
</summary>
<ul>
<li>character vector containing only unique values</li>
<li>get and set with <code>rownames()</code></li>
<li>can use them to subset rows</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb242"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb242-1"><a></a>df3 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb242-2"><a></a>  <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">35</span>, <span class="dv">27</span>, <span class="dv">18</span>),</span>
<span id="cb242-3"><a></a>  <span class="at">hair =</span> <span class="fu">c</span>(<span class="st">"blond"</span>, <span class="st">"brown"</span>, <span class="st">"black"</span>),</span>
<span id="cb242-4"><a></a>  <span class="at">row.names =</span> <span class="fu">c</span>(<span class="st">"Bob"</span>, <span class="st">"Susan"</span>, <span class="st">"Sam"</span>)</span>
<span id="cb242-5"><a></a>)</span>
<span id="cb242-6"><a></a>df3</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;       age  hair
#&gt; Bob    35 blond
#&gt; Susan  27 brown
#&gt; Sam    18 black</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb244"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb244-1"><a></a><span class="fu">rownames</span>(df3)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "Bob"   "Susan" "Sam"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb246"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb246-1"><a></a>df3[<span class="st">"Bob"</span>, ]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;     age  hair
#&gt; Bob  35 blond</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb248"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb248-1"><a></a><span class="fu">rownames</span>(df3) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Susan"</span>, <span class="st">"Bob"</span>, <span class="st">"Sam"</span>)</span>
<span id="cb248-2"><a></a><span class="fu">rownames</span>(df3)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "Susan" "Bob"   "Sam"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb250"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb250-1"><a></a>df3[<span class="st">"Bob"</span>, ]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;     age  hair
#&gt; Bob  27 brown</code></pre>
</div>
</div>
<p>There are three reasons why row names are undesirable:</p>
<ol start="3" type="1">
<li>Metadata is data, so storing it in a different way to the rest of the data is fundamentally a bad idea.</li>
<li>Row names are a poor abstraction for labelling rows because they only work when a row can be identified by a single string. This fails in many cases.</li>
<li>Row names must be unique, so any duplication of rows (e.g.&nbsp;from bootstrapping) will create new row names.</li>
</ol>
</details>
</section>
<section id="tibles-printing" class="slide level2">
<h2>Tibles: Printing</h2>
<p>Data frames and tibbles print differently</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb252"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb252-1"><a></a>df3</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;       age  hair
#&gt; Susan  35 blond
#&gt; Bob    27 brown
#&gt; Sam    18 black</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb254"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb254-1"><a></a>tibble<span class="sc">::</span><span class="fu">as_tibble</span>(df3)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; # A tibble: 3 × 2
#&gt;     age hair 
#&gt;   &lt;dbl&gt; &lt;chr&gt;
#&gt; 1    35 blond
#&gt; 2    27 brown
#&gt; 3    18 black</code></pre>
</div>
</div>
</section>
<section id="tibles-subsetting" class="slide level2 scrollable">
<h2>Tibles: Subsetting</h2>
<p>Two undesirable subsetting behaviours:</p>
<ol type="1">
<li>When you subset columns with <code>df[, vars]</code>, you will get a vector if vars selects one variable, otherwise you’ll get a data frame, unless you always remember to use <code>df[, vars, drop = FALSE]</code>.</li>
<li>When you attempt to extract a single column with <code>df$x</code> and there is no column <code>x</code>, a data frame will instead select any variable that starts with <code>x</code>. If no variable starts with <code>x</code>, <code>df$x</code> will return NULL.</li>
</ol>
<p>Tibbles tweak these behaviours so that a [ always returns a tibble, and a $ doesn’t do partial matching and warns if it can’t find a variable (<em>this is what makes tibbles surly</em>).</p>
</section>
<section id="tibles-testing" class="slide level2">
<h2>Tibles: Testing</h2>
<p>Whether data frame: <code>is.data.frame()</code>. Note: both data frame and tibble are data frames.</p>
<p>Whether tibble: <code>tibble::is_tibble</code>. Note: only tibbles are tibbles. Vanilla data frames are not.</p>
</section>
<section id="tibles-coercion" class="slide level2">
<h2>Tibles: Coercion</h2>
<ul>
<li>To data frame: <code>as.data.frame()</code></li>
<li>To tibble: <code>tibble::as_tibble()</code></li>
</ul>
</section>
<section id="tibles-list-columns" class="slide level2">
<h2>Tibles: List Columns</h2>
<p>List-columns are allowed in data frames but you have to do a little extra work by either adding the list-column after creation or wrapping the list in <code>I()</code></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb256"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb256-1"><a></a>df4 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb256-2"><a></a>df4<span class="sc">$</span>y <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb256-3"><a></a>df4</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;   x          y
#&gt; 1 1       1, 2
#&gt; 2 2    1, 2, 3
#&gt; 3 3 1, 2, 3, 4</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb258"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb258-1"><a></a>df5 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb258-2"><a></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, </span>
<span id="cb258-3"><a></a>  <span class="at">y =</span> <span class="fu">I</span>(<span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>))</span>
<span id="cb258-4"><a></a>)</span>
<span id="cb258-5"><a></a>df5</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;   x          y
#&gt; 1 1       1, 2
#&gt; 2 2    1, 2, 3
#&gt; 3 3 1, 2, 3, 4</code></pre>
</div>
</div>
</section>
<section id="tibbles-matrix-and-data-frame-columns" class="slide level2">
<h2>Tibbles: Matrix and data frame columns</h2>
<ul>
<li>As long as the number of rows matches the data frame, it’s also possible to have a matrix or data frame as a column of a data frame.</li>
<li>same as list-columns, must either addi the list-column after creation or wrapping the list in <code>I()</code></li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb260"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb260-1"><a></a>dfm <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb260-2"><a></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span> <span class="sc">*</span> <span class="dv">10</span>,</span>
<span id="cb260-3"><a></a>  <span class="at">y =</span> <span class="fu">I</span>(<span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">nrow =</span> <span class="dv">3</span>))</span>
<span id="cb260-4"><a></a>)</span>
<span id="cb260-5"><a></a></span>
<span id="cb260-6"><a></a>dfm<span class="sc">$</span>z <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">b =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>], <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb260-7"><a></a></span>
<span id="cb260-8"><a></a><span class="fu">str</span>(dfm)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; 'data.frame':    3 obs. of  3 variables:
#&gt;  $ x: num  10 20 30
#&gt;  $ y: 'AsIs' int [1:3, 1:3] 1 2 3 4 5 6 7 8 9
#&gt;  $ z:'data.frame':   3 obs. of  2 variables:
#&gt;   ..$ a: int  3 2 1
#&gt;   ..$ b: chr  "a" "b" "c"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb262"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb262-1"><a></a>dfm<span class="sc">$</span>y</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    4    7
#&gt; [2,]    2    5    8
#&gt; [3,]    3    6    9</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb264"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb264-1"><a></a>dfm<span class="sc">$</span>z</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;   a b
#&gt; 1 3 a
#&gt; 2 2 b
#&gt; 3 1 c</code></pre>
</div>
</div>
</section>
<section id="exercises-14-1" class="slide level2 scrollable">
<h2>Exercises 1/4</h2>
<ol type="1">
<li>Can you have a data frame with zero rows? What about zero columns?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
<p>Yes, you can create these data frames easily; either during creation or via subsetting. Even both dimensions can be zero. Create a 0-row, 0-column, or an empty data frame directly:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb266"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb266-1"><a></a><span class="fu">data.frame</span>(<span class="at">a =</span> <span class="fu">integer</span>(), <span class="at">b =</span> <span class="fu">logical</span>())</span>
<span id="cb266-2"><a></a><span class="co">#&gt; [1] a b</span></span>
<span id="cb266-3"><a></a><span class="co">#&gt; &lt;0 rows&gt; (or 0-length row.names)</span></span>
<span id="cb266-4"><a></a></span>
<span id="cb266-5"><a></a><span class="fu">data.frame</span>(<span class="at">row.names =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)  <span class="co"># or data.frame()[1:3, ]</span></span>
<span id="cb266-6"><a></a><span class="co">#&gt; data frame with 0 columns and 3 rows</span></span>
<span id="cb266-7"><a></a></span>
<span id="cb266-8"><a></a><span class="fu">data.frame</span>()</span>
<span id="cb266-9"><a></a><span class="co">#&gt; data frame with 0 columns and 0 rows</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Create similar data frames via subsetting the respective dimension with either 0, <code>NULL</code>, <code>FALSE</code> or a valid 0-length atomic (<code>logical(0)</code>, <code>character(0)</code>, <code>integer(0)</code>, <code>double(0)</code>). Negative integer sequences would also work. The following example uses a zero:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb267"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb267-1"><a></a>mtcars[<span class="dv">0</span>, ]</span>
<span id="cb267-2"><a></a><span class="co">#&gt;  [1] mpg  cyl  disp hp   drat wt   qsec vs   am   gear carb</span></span>
<span id="cb267-3"><a></a><span class="co">#&gt; &lt;0 rows&gt; (or 0-length row.names)</span></span>
<span id="cb267-4"><a></a></span>
<span id="cb267-5"><a></a>mtcars[ , <span class="dv">0</span>]  <span class="co"># or mtcars[0]</span></span>
<span id="cb267-6"><a></a><span class="co">#&gt; data frame with 0 columns and 32 rows</span></span>
<span id="cb267-7"><a></a></span>
<span id="cb267-8"><a></a>mtcars[<span class="dv">0</span>, <span class="dv">0</span>]</span>
<span id="cb267-9"><a></a><span class="co">#&gt; data frame with 0 columns and 0 rows</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="exercises-24-1" class="slide level2 scrollable">
<h2>Exercises 2/4</h2>
<ol start="2" type="1">
<li>What happens if you attempt to set rownames that are not unique?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
<p>Matrices can have duplicated row names, so this does not cause problems.</p>
<p>Data frames, however, require unique rownames and you get different results depending on how you attempt to set them. If you set them directly or via <code>row.names()</code>, you get an error:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb268"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb268-1"><a></a><span class="fu">data.frame</span>(<span class="at">row.names =</span> <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"y"</span>))</span>
<span id="cb268-2"><a></a><span class="co">#&gt; Error in data.frame(row.names = c("x", "y", "y")): duplicate row.names: y</span></span>
<span id="cb268-3"><a></a></span>
<span id="cb268-4"><a></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb268-5"><a></a><span class="fu">row.names</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"y"</span>)</span>
<span id="cb268-6"><a></a><span class="co">#&gt; Warning: non-unique value when setting 'row.names': 'y'</span></span>
<span id="cb268-7"><a></a><span class="co">#&gt; Error in `.rowNamesDF&lt;-`(x, value = value): duplicate 'row.names' are not allowed</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>If you use subsetting, <code>[</code> automatically deduplicates:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb269"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb269-1"><a></a><span class="fu">row.names</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"z"</span>)</span>
<span id="cb269-2"><a></a>df[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>), , drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb269-3"><a></a><span class="co">#&gt;     x</span></span>
<span id="cb269-4"><a></a><span class="co">#&gt; x   1</span></span>
<span id="cb269-5"><a></a><span class="co">#&gt; x.1 1</span></span>
<span id="cb269-6"><a></a><span class="co">#&gt; x.2 1</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="exercises-34-1" class="slide level2 scrollable">
<h2>Exercises 3/4</h2>
<ol start="3" type="1">
<li>If <code>df</code> is a data frame, what can you say about <code>t(df)</code>, and <code>t(t(df))</code>? Perform some experiments, making sure to try different column types.</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
<p>Both of <code>t(df)</code> and <code>t(t(df))</code> will return matrices:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb270"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb270-1"><a></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">y =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span>
<span id="cb270-2"><a></a><span class="fu">is.matrix</span>(df)</span>
<span id="cb270-3"><a></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb270-4"><a></a><span class="fu">is.matrix</span>(<span class="fu">t</span>(df))</span>
<span id="cb270-5"><a></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb270-6"><a></a><span class="fu">is.matrix</span>(<span class="fu">t</span>(<span class="fu">t</span>(df)))</span>
<span id="cb270-7"><a></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>The dimensions will respect the typical transposition rules:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb271"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb271-1"><a></a><span class="fu">dim</span>(df)</span>
<span id="cb271-2"><a></a><span class="co">#&gt; [1] 3 2</span></span>
<span id="cb271-3"><a></a><span class="fu">dim</span>(<span class="fu">t</span>(df))</span>
<span id="cb271-4"><a></a><span class="co">#&gt; [1] 2 3</span></span>
<span id="cb271-5"><a></a><span class="fu">dim</span>(<span class="fu">t</span>(<span class="fu">t</span>(df)))</span>
<span id="cb271-6"><a></a><span class="co">#&gt; [1] 3 2</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Because the output is a matrix, every column is coerced to the same type. (It is implemented within <code>t.data.frame()</code> via <code>as.matrix()</code> which is described below).</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb272"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb272-1"><a></a>df</span>
<span id="cb272-2"><a></a><span class="co">#&gt;   x y</span></span>
<span id="cb272-3"><a></a><span class="co">#&gt; 1 1 a</span></span>
<span id="cb272-4"><a></a><span class="co">#&gt; 2 2 b</span></span>
<span id="cb272-5"><a></a><span class="co">#&gt; 3 3 c</span></span>
<span id="cb272-6"><a></a><span class="fu">t</span>(df)</span>
<span id="cb272-7"><a></a><span class="co">#&gt;   [,1] [,2] [,3]</span></span>
<span id="cb272-8"><a></a><span class="co">#&gt; x "1"  "2"  "3" </span></span>
<span id="cb272-9"><a></a><span class="co">#&gt; y "a"  "b"  "c"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="exercises-44-1" class="slide level2 scrollable">
<h2>Exercises 4/4</h2>
<ol start="4" type="1">
<li>What does <code>as.matrix()</code> do when applied to a data frame with columns of different types? How does it differ from <code>data.matrix()</code>?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
<p>The type of the result of as.matrix depends on the types of the input columns (see <code>?as.matrix</code>):</p>
<blockquote>
<p>The method for data frames will return a character matrix if there is only atomic columns and any non-(numeric/logical/complex) column, applying as.vector to factors and format to other non-character columns. Otherwise the usual coercion hierarchy (logical &lt; integer &lt; double &lt; complex) will be used, e.g.&nbsp;all-logical data frames will be coerced to a logical matrix, mixed logical-integer will give an integer matrix, etc.</p>
</blockquote>
<p>On the other hand, <code>data.matrix</code> will always return a numeric matrix (see <code>?data.matrix()</code>).</p>
<blockquote>
<p>Return the matrix obtained by converting all the variables in a data frame to numeric mode and then binding them together as the columns of a matrix. Factors and ordered factors are replaced by their internal codes. […] Character columns are first converted to factors and then to integers.</p>
</blockquote>
<p>We can illustrate and compare the mechanics of these functions using a concrete example. <code>as.matrix()</code> makes it possible to retrieve most of the original information from the data frame but leaves us with characters. To retrieve all information from <code>data.matrix()</code>’s output, we would need a lookup table for each column.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb273"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb273-1"><a></a>df_coltypes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb273-2"><a></a>  <span class="at">a =</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>),</span>
<span id="cb273-3"><a></a>  <span class="at">b =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>),</span>
<span id="cb273-4"><a></a>  <span class="at">c =</span> <span class="fu">c</span>(<span class="dv">1</span>L, <span class="dv">0</span>L),</span>
<span id="cb273-5"><a></a>  <span class="at">d =</span> <span class="fu">c</span>(<span class="fl">1.5</span>, <span class="dv">2</span>),</span>
<span id="cb273-6"><a></a>  <span class="at">e =</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">"f1"</span>, <span class="st">"f2"</span>))</span>
<span id="cb273-7"><a></a>)</span>
<span id="cb273-8"><a></a></span>
<span id="cb273-9"><a></a><span class="fu">as.matrix</span>(df_coltypes)</span>
<span id="cb273-10"><a></a><span class="co">#&gt;      a   b       c   d     e   </span></span>
<span id="cb273-11"><a></a><span class="co">#&gt; [1,] "a" "TRUE"  "1" "1.5" "f1"</span></span>
<span id="cb273-12"><a></a><span class="co">#&gt; [2,] "b" "FALSE" "0" "2.0" "f2"</span></span>
<span id="cb273-13"><a></a><span class="fu">data.matrix</span>(df_coltypes)</span>
<span id="cb273-14"><a></a><span class="co">#&gt;      a b c   d e</span></span>
<span id="cb273-15"><a></a><span class="co">#&gt; [1,] 1 1 1 1.5 1</span></span>
<span id="cb273-16"><a></a><span class="co">#&gt; [2,] 2 0 0 2.0 2</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</details>
</section>
<section id="null" class="slide level2">
<h2><code>NULL</code></h2>
<p>Special type of object that:</p>
<ul>
<li>Length 0</li>
<li>Cannot have attributes</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb274"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb274-1"><a></a><span class="fu">typeof</span>(<span class="cn">NULL</span>)</span>
<span id="cb274-2"><a></a><span class="co">#&gt; [1] "NULL"</span></span>
<span id="cb274-3"><a></a></span>
<span id="cb274-4"><a></a><span class="fu">length</span>(<span class="cn">NULL</span>)</span>
<span id="cb274-5"><a></a><span class="co">#&gt; [1] 0</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb275"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb275-1"><a></a>x <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb275-2"><a></a><span class="fu">attr</span>(x, <span class="st">"y"</span>) <span class="ot">&lt;-</span> <span class="dv">1</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<pre><code>#&gt; Error in attr(x, "y") &lt;- 1: attempt to set an attribute on NULL</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb277"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb277-1"><a></a><span class="fu">is.null</span>(<span class="cn">NULL</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] TRUE</code></pre>
</div>
</div>
</section>
<section id="digestif" class="slide level2">
<h2>Digestif</h2>
<p>Let is use some of this chapter’s skills on the <code>penguins</code> data.</p>
</section>
<section id="attributes-1" class="slide level2">
<h2>Attributes</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb279"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb279-1"><a></a><span class="fu">str</span>(penguins_raw)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; tibble [344 × 17] (S3: tbl_df/tbl/data.frame)
#&gt;  $ studyName          : chr [1:344] "PAL0708" "PAL0708" "PAL0708" "PAL0708" ...
#&gt;  $ Sample Number      : num [1:344] 1 2 3 4 5 6 7 8 9 10 ...
#&gt;  $ Species            : chr [1:344] "Adelie Penguin (Pygoscelis adeliae)" "Adelie Penguin (Pygoscelis adeliae)" "Adelie Penguin (Pygoscelis adeliae)" "Adelie Penguin (Pygoscelis adeliae)" ...
#&gt;  $ Region             : chr [1:344] "Anvers" "Anvers" "Anvers" "Anvers" ...
#&gt;  $ Island             : chr [1:344] "Torgersen" "Torgersen" "Torgersen" "Torgersen" ...
#&gt;  $ Stage              : chr [1:344] "Adult, 1 Egg Stage" "Adult, 1 Egg Stage" "Adult, 1 Egg Stage" "Adult, 1 Egg Stage" ...
#&gt;  $ Individual ID      : chr [1:344] "N1A1" "N1A2" "N2A1" "N2A2" ...
#&gt;  $ Clutch Completion  : chr [1:344] "Yes" "Yes" "Yes" "Yes" ...
#&gt;  $ Date Egg           : Date[1:344], format: "2007-11-11" "2007-11-11" ...
#&gt;  $ Culmen Length (mm) : num [1:344] 39.1 39.5 40.3 NA 36.7 39.3 38.9 39.2 34.1 42 ...
#&gt;  $ Culmen Depth (mm)  : num [1:344] 18.7 17.4 18 NA 19.3 20.6 17.8 19.6 18.1 20.2 ...
#&gt;  $ Flipper Length (mm): num [1:344] 181 186 195 NA 193 190 181 195 193 190 ...
#&gt;  $ Body Mass (g)      : num [1:344] 3750 3800 3250 NA 3450 ...
#&gt;  $ Sex                : chr [1:344] "MALE" "FEMALE" "FEMALE" NA ...
#&gt;  $ Delta 15 N (o/oo)  : num [1:344] NA 8.95 8.37 NA 8.77 ...
#&gt;  $ Delta 13 C (o/oo)  : num [1:344] NA -24.7 -25.3 NA -25.3 ...
#&gt;  $ Comments           : chr [1:344] "Not enough blood for isotopes." NA NA "Adult not sampled." ...
#&gt;  - attr(*, "spec")=List of 3
#&gt;   ..$ cols   :List of 17
#&gt;   .. ..$ studyName          : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_character" "collector"
#&gt;   .. ..$ Sample Number      : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_double" "collector"
#&gt;   .. ..$ Species            : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_character" "collector"
#&gt;   .. ..$ Region             : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_character" "collector"
#&gt;   .. ..$ Island             : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_character" "collector"
#&gt;   .. ..$ Stage              : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_character" "collector"
#&gt;   .. ..$ Individual ID      : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_character" "collector"
#&gt;   .. ..$ Clutch Completion  : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_character" "collector"
#&gt;   .. ..$ Date Egg           :List of 1
#&gt;   .. .. ..$ format: chr ""
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_date" "collector"
#&gt;   .. ..$ Culmen Length (mm) : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_double" "collector"
#&gt;   .. ..$ Culmen Depth (mm)  : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_double" "collector"
#&gt;   .. ..$ Flipper Length (mm): list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_double" "collector"
#&gt;   .. ..$ Body Mass (g)      : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_double" "collector"
#&gt;   .. ..$ Sex                : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_character" "collector"
#&gt;   .. ..$ Delta 15 N (o/oo)  : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_double" "collector"
#&gt;   .. ..$ Delta 13 C (o/oo)  : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_double" "collector"
#&gt;   .. ..$ Comments           : list()
#&gt;   .. .. ..- attr(*, "class")= chr [1:2] "collector_character" "collector"
#&gt;   ..$ default: list()
#&gt;   .. ..- attr(*, "class")= chr [1:2] "collector_guess" "collector"
#&gt;   ..$ skip   : num 1
#&gt;   ..- attr(*, "class")= chr "col_spec"</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb281"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb281-1"><a></a><span class="fu">str</span>(penguins_raw, <span class="at">give.attr =</span> <span class="cn">FALSE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; tibble [344 × 17] (S3: tbl_df/tbl/data.frame)
#&gt;  $ studyName          : chr [1:344] "PAL0708" "PAL0708" "PAL0708" "PAL0708" ...
#&gt;  $ Sample Number      : num [1:344] 1 2 3 4 5 6 7 8 9 10 ...
#&gt;  $ Species            : chr [1:344] "Adelie Penguin (Pygoscelis adeliae)" "Adelie Penguin (Pygoscelis adeliae)" "Adelie Penguin (Pygoscelis adeliae)" "Adelie Penguin (Pygoscelis adeliae)" ...
#&gt;  $ Region             : chr [1:344] "Anvers" "Anvers" "Anvers" "Anvers" ...
#&gt;  $ Island             : chr [1:344] "Torgersen" "Torgersen" "Torgersen" "Torgersen" ...
#&gt;  $ Stage              : chr [1:344] "Adult, 1 Egg Stage" "Adult, 1 Egg Stage" "Adult, 1 Egg Stage" "Adult, 1 Egg Stage" ...
#&gt;  $ Individual ID      : chr [1:344] "N1A1" "N1A2" "N2A1" "N2A2" ...
#&gt;  $ Clutch Completion  : chr [1:344] "Yes" "Yes" "Yes" "Yes" ...
#&gt;  $ Date Egg           : Date[1:344], format: "2007-11-11" "2007-11-11" ...
#&gt;  $ Culmen Length (mm) : num [1:344] 39.1 39.5 40.3 NA 36.7 39.3 38.9 39.2 34.1 42 ...
#&gt;  $ Culmen Depth (mm)  : num [1:344] 18.7 17.4 18 NA 19.3 20.6 17.8 19.6 18.1 20.2 ...
#&gt;  $ Flipper Length (mm): num [1:344] 181 186 195 NA 193 190 181 195 193 190 ...
#&gt;  $ Body Mass (g)      : num [1:344] 3750 3800 3250 NA 3450 ...
#&gt;  $ Sex                : chr [1:344] "MALE" "FEMALE" "FEMALE" NA ...
#&gt;  $ Delta 15 N (o/oo)  : num [1:344] NA 8.95 8.37 NA 8.77 ...
#&gt;  $ Delta 13 C (o/oo)  : num [1:344] NA -24.7 -25.3 NA -25.3 ...
#&gt;  $ Comments           : chr [1:344] "Not enough blood for isotopes." NA NA "Adult not sampled." ...</code></pre>
</div>
</div>
</section>
<section id="data-frames-vs-tibbles" class="slide level2">
<h2>Data Frames vs Tibbles</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb283"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb283-1"><a></a>penguins_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(penguins)</span>
<span id="cb283-2"><a></a>penguins_tb <span class="ot">&lt;-</span> penguins <span class="co">#i.e. penguins was already a tibble</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="printing" class="slide level2">
<h2>Printing</h2>
<ul>
<li>Tip: print out these results in RStudio under different editor themes</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb284"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb284-1"><a></a><span class="fu">print</span>(penguins_df) <span class="co">#don't run this</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb285"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb285-1"><a></a><span class="fu">head</span>(penguins_df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;   species    island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
#&gt; 1  Adelie Torgersen           39.1          18.7               181        3750
#&gt; 2  Adelie Torgersen           39.5          17.4               186        3800
#&gt; 3  Adelie Torgersen           40.3          18.0               195        3250
#&gt; 4  Adelie Torgersen             NA            NA                NA          NA
#&gt; 5  Adelie Torgersen           36.7          19.3               193        3450
#&gt; 6  Adelie Torgersen           39.3          20.6               190        3650
#&gt;      sex year
#&gt; 1   male 2007
#&gt; 2 female 2007
#&gt; 3 female 2007
#&gt; 4   &lt;NA&gt; 2007
#&gt; 5 female 2007
#&gt; 6   male 2007</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb287"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb287-1"><a></a>penguins_tb</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; # A tibble: 344 × 8
#&gt;    species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
#&gt;    &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
#&gt;  1 Adelie  Torgersen           39.1          18.7               181        3750
#&gt;  2 Adelie  Torgersen           39.5          17.4               186        3800
#&gt;  3 Adelie  Torgersen           40.3          18                 195        3250
#&gt;  4 Adelie  Torgersen           NA            NA                  NA          NA
#&gt;  5 Adelie  Torgersen           36.7          19.3               193        3450
#&gt;  6 Adelie  Torgersen           39.3          20.6               190        3650
#&gt;  7 Adelie  Torgersen           38.9          17.8               181        3625
#&gt;  8 Adelie  Torgersen           39.2          19.6               195        4675
#&gt;  9 Adelie  Torgersen           34.1          18.1               193        3475
#&gt; 10 Adelie  Torgersen           42            20.2               190        4250
#&gt; # ℹ 334 more rows
#&gt; # ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section id="atomic-vectors" class="slide level2">
<h2>Atomic Vectors</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb289"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb289-1"><a></a>species_vector_df <span class="ot">&lt;-</span> penguins_df <span class="sc">|&gt;</span> <span class="fu">select</span>(species)</span>
<span id="cb289-2"><a></a>species_unlist_df <span class="ot">&lt;-</span> penguins_df <span class="sc">|&gt;</span> <span class="fu">select</span>(species) <span class="sc">|&gt;</span> <span class="fu">unlist</span>()</span>
<span id="cb289-3"><a></a>species_pull_df   <span class="ot">&lt;-</span> penguins_df <span class="sc">|&gt;</span> <span class="fu">select</span>(species) <span class="sc">|&gt;</span> <span class="fu">pull</span>()</span>
<span id="cb289-4"><a></a></span>
<span id="cb289-5"><a></a>species_vector_tb <span class="ot">&lt;-</span> penguins_tb <span class="sc">|&gt;</span> <span class="fu">select</span>(species)</span>
<span id="cb289-6"><a></a>species_unlist_tb <span class="ot">&lt;-</span> penguins_tb <span class="sc">|&gt;</span> <span class="fu">select</span>(species) <span class="sc">|&gt;</span> <span class="fu">unlist</span>()</span>
<span id="cb289-7"><a></a>species_pull_tb   <span class="ot">&lt;-</span> penguins_tb <span class="sc">|&gt;</span> <span class="fu">select</span>(species) <span class="sc">|&gt;</span> <span class="fu">pull</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<details>
<summary>
<code>typeof()</code> and <code>class()</code>
</summary>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb290"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb290-1"><a></a><span class="fu">typeof</span>(species_vector_df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "list"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb292"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb292-1"><a></a><span class="fu">class</span>(species_vector_df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "data.frame"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb294"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb294-1"><a></a><span class="fu">typeof</span>(species_unlist_df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "integer"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb296"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb296-1"><a></a><span class="fu">class</span>(species_unlist_df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "factor"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb298"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb298-1"><a></a><span class="fu">typeof</span>(species_pull_df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "integer"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb300"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb300-1"><a></a><span class="fu">class</span>(species_pull_df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "factor"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb302"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb302-1"><a></a><span class="fu">typeof</span>(species_vector_tb)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "list"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb304"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb304-1"><a></a><span class="fu">class</span>(species_vector_tb)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb306"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb306-1"><a></a><span class="fu">typeof</span>(species_unlist_tb)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "integer"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb308"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb308-1"><a></a><span class="fu">class</span>(species_unlist_tb)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "factor"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb310"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb310-1"><a></a><span class="fu">typeof</span>(species_pull_tb)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "integer"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb312"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb312-1"><a></a><span class="fu">class</span>(species_pull_tb)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "factor"</code></pre>
</div>
</div>
</details>
</section>
<section id="column-names" class="slide level2">
<h2>Column Names</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb314"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb314-1"><a></a><span class="fu">colnames</span>(penguins_tb)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] "species"           "island"            "bill_length_mm"   
#&gt; [4] "bill_depth_mm"     "flipper_length_mm" "body_mass_g"      
#&gt; [7] "sex"               "year"</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb316"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb316-1"><a></a><span class="fu">names</span>(penguins_tb) <span class="sc">==</span> <span class="fu">colnames</span>(penguins_tb)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb318"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb318-1"><a></a><span class="fu">names</span>(penguins_df) <span class="sc">==</span> <span class="fu">names</span>(penguins_tb)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
</div>
</div>
</section>
<section id="what-if-we-only-invoke-a-partial-name-of-a-column-of-a-tibble" class="slide level2">
<h2>What if we only invoke a partial name of a column of a tibble?</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb320"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb320-1"><a></a>penguins_tb<span class="sc">$</span>y </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; NULL</code></pre>
</div>
</div>

<img data-src="images/vectors/surly_tibbles.png" class="r-stretch quarto-figure-center"><p class="caption">tibbles are surly!</p><ul>
<li>What if we only invoke a partial name of a column of a data frame?</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb322"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb322-1"><a></a><span class="fu">head</span>(penguins_df<span class="sc">$</span>y) <span class="co">#instead of `year`</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; [1] 2007 2007 2007 2007 2007 2007</code></pre>
</div>
</div>
<ul>
<li>Is this evaluation in alphabetical order or column order?</li>
</ul>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb324"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb324-1"><a></a>penguins_df_se_sp <span class="ot">&lt;-</span> penguins_df <span class="sc">|&gt;</span> <span class="fu">select</span>(sex, species)</span>
<span id="cb324-2"><a></a>penguins_df_sp_se <span class="ot">&lt;-</span> penguins_df <span class="sc">|&gt;</span> <span class="fu">select</span>(species, sex)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb325"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb325-1"><a></a><span class="fu">head</span>(penguins_df_se_sp<span class="sc">$</span>s)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; NULL</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb327"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb327-1"><a></a><span class="fu">head</span>(penguins_df_sp_se<span class="sc">$</span>s)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; NULL</code></pre>
</div>
</div>
</section>
<section id="chapter-quiz-15" class="slide level2 scrollable">
<h2>Chapter Quiz 1/5</h2>
<ol type="1">
<li>What are the four common types of atomic vectors? What are the two rare types?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
The four common types of atomic vector are logical, integer, double and character. The two rarer types are complex and raw.
</details>
</section>
<section id="chapter-quiz-25" class="slide level2 scrollable">
<h2>Chapter Quiz 2/5</h2>
<ol start="2" type="1">
<li>What are attributes? How do you get them and set them?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
Attributes allow you to associate arbitrary additional metadata to any object. You can get and set individual attributes with <code>attr(x, "y")</code> and <code>attr(x, "y") &lt;- value</code>; or you can get and set all attributes at once with <code>attributes()</code>.
</details>
</section>
<section id="chapter-quiz-35" class="slide level2 scrollable">
<h2>Chapter Quiz 3/5</h2>
<ol start="3" type="1">
<li>How is a list different from an atomic vector? How is a matrix different from a data frame?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
The elements of a list can be any type (even a list); the elements of an atomic vector are all of the same type. Similarly, every element of a matrix must be the same type; in a data frame, different columns can have different types.
</details>
</section>
<section id="chapter-quiz-45" class="slide level2 scrollable">
<h2>Chapter Quiz 4/5</h2>
<ol start="4" type="1">
<li>Can you have a list that is a matrix? Can a data frame have a column that is a matrix?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
You can make a list-array by assigning dimensions to a list. You can make a matrix a column of a data frame with <code>df$x &lt;- matrix()</code>, or by using <code>I()</code> when creating a new data frame <code>data.frame(x = I(matrix()))</code>.
</details>
</section>
<section id="chapter-quiz-55" class="slide level2 scrollable">
<h2>Chapter Quiz 5/5</h2>
<ol start="5" type="1">
<li>How do tibbles behave differently from data frames?</li>
</ol>
<details>
<summary>
Answer(s)
</summary>
Tibbles have an enhanced print method, never coerce strings to factors, and provide stricter subsetting methods.
</details>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p><a href="../" target="advr_club-index">DSLC.io/advr</a> | <a href="https://DSLC.io" target="_blank">DSLC.io</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/r4ds\.github\.io\/bookclub-advr\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
                // target, if specified
                link.setAttribute("target", "_blank");
                if (link.getAttribute("rel") === null) {
                  link.setAttribute("rel", "noopener");
                }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>